const darkModeToggle=document.querySelector("dark-mode-toggle"),pictures=document.querySelectorAll("picture"),stylesheets=document.querySelectorAll('link[rel="stylesheet"]'),imgldLinks=document.querySelectorAll("a.imgldlink"),toggleTheme=e=>{darkModeToggle.appearance="toggle";const t=e.detail.colorScheme==="dark";pictures.forEach(e=>{const n=e.querySelector('source[theme="dark"]'),s=e.querySelector('source[theme="light"]');n.media=t?"all":"none",s.media=t?"none":"all"}),imgldLinks.forEach(e=>{t?e.href=e.href.replace("-light.","-dark."):e.href=e.href.replace("-dark.","-light.")}),window.matchMedia("(prefers-color-scheme)").matches||stylesheets.forEach(e=>{e.getAttribute("theme")=="dark"&&(e.media=t?"all":"none"),e.getAttribute("theme")=="light"&&(e.media=t?"none":"all")})};document.addEventListener("colorschemechange",toggleTheme),toggleTheme({detail:{colorScheme:darkModeToggle.mode}})