<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.123.3"><meta name=author content='Andrey Akinshin'><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content><title>Andrey Akinshin's blog (Page 15)</title>
<meta name=description content="Andrey Akinshin's blog"><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link href=https://aakinshin.net/css/main.min.507552e362c73186c7b6d8d093247a479099e01f527bcc3432990c78c2e426d8.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"></head><body><nav><div class="container flex flex-wrap items-center justify-between mx-auto max-w-6xl h-12 px-2 xs:px-6"><div class="flex items-center justify-start justify-self-start"><div class="flex nav-item h-12 w-12 items-center justify-center"><a class=text-white href=https://aakinshin.net/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#house-chimney"/></svg></a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/posts/>Posts</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/research/>Research</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/library/>Library</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/about/>About</a></div></div><button id=theme-toggle type=button title="Alt+Click to match OS color theme" class="nav-item p-3 content-center justify-self-end"><svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></div></nav><div class="main container mx-auto max-w-6xl px-6"><div class=main-content><div><h2><a href=/posts/kosqe4/>Quantile Estimators Based on K Order Statistics, Part 4: Adopting Trimmed Harrell-Davis Quantile Estimator</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-08-24>August 24, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators/>Quantile Estimators</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators-based-on-k-order-statistics/>Quantile Estimators Based on K Order Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>In the previous posts, I discussed various aspects of
<a href=https://aakinshin.net/posts/kosqe1/>quantile estimators based on k order statistics</a>.
I already tried a few weight functions that aggregate the sample values to the quantile estimators
(see posts about <a href=https://aakinshin.net/posts/kosqe2/>an extension of the Hyndman-Fan Type 7 equation</a> and
about <a href=https://aakinshin.net/posts/kosqe3/>adjusted regularized incomplete beta function</a>).
In this post, I continue my experiments and try to adopt the
<a href=https://aakinshin.net/posts/trimmed-hdqe/>trimmed modifications of the Harrell-Davis quantile estimator</a> to this approach.</p><a href=/posts/kosqe4/>Read more</a><br><br><hr></div><div><h2><a href=/posts/kosqe3/>Quantile Estimators Based on K Order Statistics, Part 3: Playing with the Beta Function</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-08-17>August 17, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators/>Quantile Estimators</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators-based-on-k-order-statistics/>Quantile Estimators Based on K Order Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>In the previous two posts, I discussed the idea of quantile estimators based on k order statistics.
A already covered the <a href=https://aakinshin.net/posts/kosqe1/>motivation behind this idea</a>
and the statistical efficiency of such estimators using the <a href=https://aakinshin.net/posts/kosqe2/>extended Hyndman-Fan equations</a>
as a weight function.
Now it&rsquo;s time to experiment with the Beta function as a primary way to aggregate k order statistics
into a single quantile estimation!</p><a href=/posts/kosqe3/>Read more</a><br><br><hr></div><div><h2><a href=/posts/kosqe2/>Quantile Estimators Based on K Order Statistics, Part 2: Extending Hyndman-Fan Equations</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-08-10>August 10, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators/>Quantile Estimators</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators-based-on-k-order-statistics/>Quantile Estimators Based on K Order Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>In the <a href=https://aakinshin.net/posts/kosqe1/>previous post</a>,
I described the idea of using quantile estimators based on k order statistics.
Potentially, such estimators could be more robust than estimators based on all samples elements (like
Harrell-Davis,
<a href=https://aakinshin.net/posts/sfakianakis-verginis-quantile-estimator/>Sfakianakis-Verginis</a>, or
<a href=https://aakinshin.net/posts/navruz-ozdemir-quantile-estimator/>Navruz-Özdemir</a>)
and more statistically efficient than traditional quantile estimators (based on 1 or 2 order statistics).
Moreover, we should be able to control this trade-off based on the business requirements
(e.g., setting the desired breakdown point).</p><p>The only challenging thing here is choosing the weight function
that aggregates k order statistics to a single quantile estimation.
We are going to try several options, perform Monte-Carlo simulations for each of them, and compare the results.
A reasonable starting point is an extension of the traditional quantile estimators.
In this post, we are going to extend the Hyndman-Fan Type 7 quantile estimator
(nowadays, it&rsquo;s one of the most popular estimators).
It estimates quantiles as a linear interpolation of two subsequent order statistics.
We are going to make some modifications, so a new version is going to be based on k order statistics.</p><p><strong>Spoiler: this approach doesn&rsquo;t seem like an optimal one.</strong>
I&rsquo;m pretty disappointed with its statistical efficiency on samples from light-tailed distributions.
So, what&rsquo;s the point of writing a blog post about an inefficient approach?
Because of the following reasons:</p><ol><li>I believe it&rsquo;s crucial to share negative results.
Sometimes, knowledge about approaches that don&rsquo;t work
could be more important than knowledge about more effective techniques.
Negative results give you a broader view of the problem
and protect you from wasting your time on potential promising (but not so useful) ideas.</li><li>Negative results improve research completeness.
When we present an approach, it&rsquo;s essential to not only show why it solves problems well,
but also why it solves problems better than other similar approaches.</li><li>While I wouldn&rsquo;t recommend my extension of the Hyndman-Fan Type 7 quantile estimator to the k order statistics case
as the default quantile estimator, there are some specific cases where it could be useful.
For example, if we estimate the median based on small samples from a symmetric light-tailed distribution,
it could outperform not only the original version but also the Harrell-Davis quantile estimator.
The &ldquo;negativity&rdquo; of the negative results always exists in a specific context.
So, there may be cases when negative results for the general case transform to positive results
for a particular niche problem.</li><li>Finally, it&rsquo;s my personal blog, so I have the freedom to write on any topic I like.
My blog posts are not publications to scientific journals (which typically don&rsquo;t welcome negative results),
but rather research notes about conducted experiments.
It&rsquo;s important for me to keep records of all the experiments I perform regardless of the usefulness of the results.</li></ol><p>So, let&rsquo;s briefly look at the results of this not-so-useful approach.</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/kosqe2/img/LightAndHeavy__N15_Efficiency-light.png target=_blank alt=LightAndHeavy__N15_Efficiency><img src=/posts/kosqe2/img/LightAndHeavy__N15_Efficiency-light.png width=800>
</a><a class="img-dark hidden" href=/posts/kosqe2/img/LightAndHeavy__N15_Efficiency-dark.png target=_blank alt=LightAndHeavy__N15_Efficiency><img src=/posts/kosqe2/img/LightAndHeavy__N15_Efficiency-dark.png width=800></a></div><a href=/posts/kosqe2/>Read more</a><br><br><hr></div><div><h2><a href=/posts/kosqe1/>Quantile Estimators Based on K Order Statistics, Part 1: Motivation</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-08-03>August 3, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators/>Quantile Estimators</a>
<a class=label-link href=https://aakinshin.net/tags/quantile-estimators-based-on-k-order-statistics/>Quantile Estimators Based on K Order Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>It&rsquo;s not easy to choose a good quantile estimator.
In my previous posts, I considered several groups of quantile estimators:</p><ul><li>Quantile estimators based 1 or 2 order statistics (Hyndman-Fan Type1-9)</li><li>Quantile estimators based on all order statistics
(the Harrell-Davis quantile estimator,
the <a href=https://aakinshin.net/posts/sfakianakis-verginis-quantile-estimator/>Sfakianakis-Verginis quantile estimator</a>, and
the <a href=https://aakinshin.net/posts/navruz-ozdemir-quantile-estimator/>Navruz-Özdemir quantile estimator</a>)</li><li>Quantile estimators based on a variable number of order statistics
(the <a href=https://aakinshin.net/posts/trimmed-hdqe/>trimmed</a> and <a href=https://aakinshin.net/posts/winsorized-hdqe/>winsorized</a> modifications
of the Harrell-Davis quantile estimator)</li></ul><p>Unfortunately, all of these estimators have significant drawbacks
(e.g., poor statistical efficiency or poor robustness).
In this post, I want to discuss all of the advantages and disadvantages of each approach
and suggest another family of quantile estimators that are based on k order statistics.</p><a href=/posts/kosqe1/>Read more</a><br><br><hr></div><div><h2><a href=/posts/thdqe-overtrimming/>Avoiding Over-Trimming with the Trimmed Harrell-Davis Quantile Estimator</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-07-27>July 27, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile/>Quantile</a>
<a class=label-link href=https://aakinshin.net/tags/statistical-efficiency/>Statistical Efficiency</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>Previously, I already discussed the
<a href=https://aakinshin.net/posts/trimmed-hdqe/>trimmed modification of the Harrell-Davis quantile estimator</a> several times.
I performed several numerical simulations that compare the statistical efficiency of this estimator
with the efficiency of the <a href=https://aakinshin.net/posts/wthdqe-efficiency/>classic Harrell-Davis quantile estimator</a> (HDQE)
and its <a href=https://aakinshin.net/posts/winsorized-hdqe/>winsorized modification</a>;
I showed how we can improve the efficiency using <a href=https://aakinshin.net/posts/customized-wthdqe/>custom trimming strategies</a>
and how to choose a <a href=https://aakinshin.net/posts/thdqe-threshold/>good trimming threshold value</a>.</p><p>In the heavy-tailed cases, the trimmed HDQE provides better estimations than the classic HDQE
because of its higher breakdown point.
However, in the light-tailed cases, we could get efficiency that is worse than
the baseline Hyndman-Fan Type 7 (HF7) quantile estimator.
In many cases, such an effect arises because of the over-trimming effect.
If the trimming percentage is too high or if the evaluated quantile is too far from the median,
the trimming strategy based on the highest-density interval may lead to an estimation
that is based on single order statistics.
In this case, we get an efficiency level similar to the Hyndman-Fan Type 1-3 quantile estimators
(which are also based on single order statistics).
In the light-tailed case, such a result is less preferable than Hyndman-Fan Type 4-9 quantile estimators
(which are based on two subsequent order statistics).</p><p>In order to improve the situation, we could introduce the lower bound for the number of order statistics
that contribute to the final quantile estimations.
In this post, I look at some numerical simulations
that compare trimmed HDQEs with different lower bounds.</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/thdqe-overtrimming/img/LightAndHeavy__N05_Efficiency-light.png target=_blank alt=LightAndHeavy__N05_Efficiency><img src=/posts/thdqe-overtrimming/img/LightAndHeavy__N05_Efficiency-light.png width=800>
</a><a class="img-dark hidden" href=/posts/thdqe-overtrimming/img/LightAndHeavy__N05_Efficiency-dark.png target=_blank alt=LightAndHeavy__N05_Efficiency><img src=/posts/thdqe-overtrimming/img/LightAndHeavy__N05_Efficiency-dark.png width=800></a></div><a href=/posts/thdqe-overtrimming/>Read more</a><br><br><hr></div><div><h2><a href=/posts/thdqe-threshold/>Optimal Threshold of the Trimmed Harrell-Davis Quantile Estimator</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-07-20>July 20, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile/>Quantile</a>
<a class=label-link href=https://aakinshin.net/tags/statistical-efficiency/>Statistical Efficiency</a>
<a class=label-link href=https://aakinshin.net/tags/research-thdqe/>Research: Building Trimmed Harrell-Davis Quantile Estimator</a></div></div><br><p>The traditional quantile estimators (which are based on 1 or 2 order statistics) have great robustness.
However, the statistical efficiency of these estimators is not so great.
The Harrell-Davis quantile estimator has much better efficiency (at least in the light-tailed case),
but it&rsquo;s not robust (because it calculates a weighted sum of all sample values).
I already wrote a <a href=https://aakinshin.net/posts/trimmed-hdqe/>post about trimmed Harrell-Davis quantile estimator</a>:
this approach suggest dropping some of the low-weight sample values to improve robustness
(keeping good statistical efficiency).
I also perform a numerical simulations that <a href=https://aakinshin.net/posts/wthdqe-efficiency/>compare efficiency</a>
of the original Harrell-Davis quantile estimator against its trimmed and winsorized modifications.
It&rsquo;s time to discuss how to choose the optimal trimming threshold
and how it affects the estimator efficiency.</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/thdqe-threshold/img/LightAndHeavy__N40_Efficiency-light.png target=_blank alt=LightAndHeavy__N40_Efficiency><img src=/posts/thdqe-threshold/img/LightAndHeavy__N40_Efficiency-light.png width=800>
</a><a class="img-dark hidden" href=/posts/thdqe-threshold/img/LightAndHeavy__N40_Efficiency-dark.png target=_blank alt=LightAndHeavy__N40_Efficiency><img src=/posts/thdqe-threshold/img/LightAndHeavy__N40_Efficiency-dark.png width=800></a></div><a href=/posts/thdqe-threshold/>Read more</a><br><br><hr></div><div><h2><a href=/posts/maritz-jarrett-vs-jackknife/>Estimating Quantile Confidence Intervals: Maritz-Jarrett vs. Jackknife</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-07-13>July 13, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/quantile/>Quantile</a>
<a class=label-link href=https://aakinshin.net/tags/confidence-interval/>Confidence Interval</a>
<a class=label-link href=https://aakinshin.net/tags/coverage/>Coverage</a></div></div><br><p>When it comes to estimating quantiles of the given sample,
my estimator of choice is the Harrell-Davis quantile estimator
(to be more specific, its <a href=https://aakinshin.net/posts/trimmed-hdqe/>trimmed version</a>).
If I need to get a confidence interval for the obtained quantiles,
I use the <a href=https://aakinshin.net/posts/weighted-quantiles-ci/#the-maritz-jarrett-method>Maritz-Jarrett method</a>
because it provides a <a href=https://aakinshin.net/posts/quantile-ci-coverage/>decent coverage percentage</a>.
Both approaches work pretty nicely together.</p><p>However, in the original paper by <a href=https://doi.org/10.2307/2335999>Harrell and Davis (1982)</a>,
the authors suggest using the jackknife variance estimator in order to get the confidence intervals.
The obvious question here is which approach better: the Maritz-Jarrett method or the jackknife estimator?
In this post, I perform a numerical simulation that compares both techniques using different distributions.</p><a href=/posts/maritz-jarrett-vs-jackknife/>Read more</a><br><br><hr></div><div><h2><a href=/posts/kish-ess-weighted-quantiles/>Using Kish's Effective Sample Size with Weighted Quantiles</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-07-06>July 6, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/research-wqe/>Research: Weighted Quantile Estimators</a>
<a class=label-link href=https://aakinshin.net/tags/quantiles/>Quantiles</a></div></div><br><p>In my previous posts, I described how to calculate
<a href=https://aakinshin.net/posts/weighted-quantiles/>weighted quantiles</a> and
their <a href=https://aakinshin.net/posts/weighted-quantiles-ci/>confidence intervals</a>
using the Harrell-Davis quantile estimator.
This powerful technique allows applying
<a href=https://aakinshin.net/posts/quantile-exponential-smoothing/>quantile exponential smoothing</a> and
<a href=https://aakinshin.net/posts/dispersion-exponential-smoothing/>dispersion exponential smoothing</a> for
time series in order to get its moving properties.</p><p>When we work with weighted samples, we need a way to calculate the
<a href=https://en.wikipedia.org/wiki/Effective_sample_size>effective samples size</a>.
Previously, I used the sum of all weights normalized by the maximum weight.
In most cases, it worked OK.</p><p>Recently, <a href=https://www.soz.unibe.ch/about_us/people/prof_dr_jann_ben/index_eng.html>Ben Jann</a> pointed out
that it would be better to use the Kish&rsquo;s formula to calculate the effective sample size.
In this post, you find the formula and a few numerical simulations that illustrate the actual impact of
the underlying sample size formula.</p><a href=/posts/kish-ess-weighted-quantiles/>Read more</a><br><br><hr></div><div><h2><a href=/posts/partial-binning-compression/>Partial Binning Compression of Performance Series</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-06-29>June 29, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/partial-binning/>Partial Binning</a></div></div><br><p>Let&rsquo;s start with a problem from real life.
Imagine we have thousands of application components that should be initialized.
We care about the total initialization time of the whole application,
so we want to automatically track the slowest components using a continuous integration (CI) system.
The easiest way to do it is to measure the initialization time of each component in each CI build
and save all the measurements to a database.
Unfortunately, if the total number of components is huge, the overall artifact size may be quite extensive.
Thus, this approach may introduce an unwanted negative impact on the database size and data processing time.</p><p>However, we don&rsquo;t actually need all the measurements.
We want to track only the slowest components.
Typically, it&rsquo;s possible to introduce a reasonable threshold that defines such components.
For example, we can say that all components that are initialized in less than 1ms are &ldquo;fast enough,&rdquo;
so there is no need to know the exact initialization time for them.
Since these time values are insignificant, we can just omit all the measurements below the given thresholds.
This allows to significantly reduce the data traffic without losing any important information.</p><p>The suggested trick can be named <em>partial binning compression</em>.
Indeed, we introduce a single bin (perform <em>binning</em>) and
omit all the values inside this bin (perform <em>compression</em>).
On the other hand, we don&rsquo;t build an honest histogram since we keep all the raw values outside the given bin
(the binning is <em>partial</em>).</p><p>Let&rsquo;s discuss a few aspects of using partial binning compression.</p><a href=/posts/partial-binning-compression/>Read more</a><br><br><hr></div><div><h2><a href=/posts/zero-mad-gamma-es/>Calculating Gamma Effect Size for Samples with Zero Median Absolute Deviation</a></h2><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-06-22>June 22, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/effect-size/>Effect Size</a>
<a class=label-link href=https://aakinshin.net/tags/research-gamma-es/>Research: Gamma Effect Size</a>
<a class=label-link href=https://aakinshin.net/tags/mad/>Median Absolute Deviation</a></div></div><br><p>In previous posts, I discussed the <a href=https://aakinshin.net/posts/nonparametric-effect-size/>gamma effect size</a>
which is a Cohen&rsquo;s d-consistent nonparametric and robust measure of the effect size.
Also, I discussed <a href=https://aakinshin.net/posts/nonparametric-effect-size2/>various ways to customize this metric</a>
and adjust it to different kinds of business requirements.
In this post, I want to briefly cover one more corner case that requires special adjustments.
We are going to discuss the situation when the median absolute deviation is zero.</p><a href=/posts/zero-mad-gamma-es/>Read more</a><br><br><hr></div></div><div class=paginator><ul class="pagination pagination-default"><li class=page-item><a href=/ aria-label=First class=page-link role=button><span aria-hidden=true>&#171;&#171;</span></a></li><li class=page-item><a href=/page/14/ aria-label=Previous class=page-link role=button><span aria-hidden=true>&#171;</span></a></li><li class=page-item><a href=/page/13/ aria-label="Page 13" class=page-link role=button>13</a></li><li class=page-item><a href=/page/14/ aria-label="Page 14" class=page-link role=button>14</a></li><li class="page-item active"><a aria-current=page aria-label="Page 15" class=page-link role=button>15</a></li><li class=page-item><a href=/page/16/ aria-label="Page 16" class=page-link role=button>16</a></li><li class=page-item><a href=/page/17/ aria-label="Page 17" class=page-link role=button>17</a></li><li class=page-item><a href=/page/16/ aria-label=Next class=page-link role=button><span aria-hidden=true>&#187;</span></a></li><li class=page-item><a href=/page/100/ aria-label=Last class=page-link role=button><span aria-hidden=true>&#187;&#187;</span></a></li></ul></div></div><script>var themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleBtn,themeToggleLightIcon=document.getElementById("theme-toggle-light-icon");const imagesDark=document.querySelectorAll(".img-dark"),imagesLight=document.querySelectorAll(".img-light");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(themeToggleLightIcon.classList.remove("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")})):(themeToggleDarkIcon.classList.remove("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}));function toggleTheme(e){e?(document.documentElement.classList.add("dark"),themeToggleLightIcon.classList.remove("hidden"),themeToggleDarkIcon.classList.add("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")}),imagesLight.forEach(e=>{e.classList.add("hidden")})):(document.documentElement.classList.remove("dark"),themeToggleDarkIcon.classList.remove("hidden"),themeToggleLightIcon.classList.add("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}),imagesDark.forEach(e=>{e.classList.add("hidden")}))}themeToggleBtn=document.getElementById("theme-toggle"),themeToggleBtn.addEventListener("click",function(){themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon.classList.toggle("hidden"),imagesLight.forEach(e=>{e.classList.toggle("hidden")}),imagesDark.forEach(e=>{e.classList.toggle("hidden")}),event.altKey?(localStorage.removeItem("color-theme"),toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches)):localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(localStorage.getItem("color-theme")===null){const t=e.matches?"dark":"light";toggleTheme(t==="dark")}})</script><footer class="z-20 p-4 md:p-6 mt-3 w-full border-t border-gray-200 shadow flex items-center justify-center dark:border-gray-600 bg-white dark:bg-zinc-800"><span class="dark:text-gray-400 text-center">© 2013—2024 <span class=whitespace-nowrap>Andrey Akinshin</span></span><ul class="flex flex-wrap items-center px-4 mb-1"><li><a href=https://github.com/AndreyAkinshin><svg class="fai fai-link w-5 h-5"><title>GitHub</title><use xlink:href="/img/fa/all.svg#github"/></svg></a></li><li><a href=https://twitter.com/andrey_akinshin><svg class="fai fai-link w-5 h-5"><title>Twitter</title><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></li><li><a href=https://aakinshin.net/posts/index.xml><svg class="fai fai-link w-5 h-5"><title>RSS</title><use xlink:href="/img/fa/all.svg#rss"/></svg></a></li></ul><div class=main-content><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></div></footer><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+=" has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script></body></html>