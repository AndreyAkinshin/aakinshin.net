<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.103.0-DEV"><meta name=author content="Andrey Akinshin"><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content="Mathematics,Statistics,Research,Outliers"><title>Fence-based outlier detectors, Part 1 | Andrey Akinshin</title><meta name=description content="In previous posts, I discussed properties of Tukey&amp;rsquo;s fences and asymmetric decile-based outlier detector (Part 1, Part 2). In this post, I discuss the generalization of fence-based outlier detectors."><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link href=https://aakinshin.net/css/main.min.3694189c64d6e73f07022b9b02e5f1a3ce7adaa4b67d9bd3ed23e8f8115e6411.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"></head><body><nav><div class="container flex flex-wrap items-center justify-between mx-auto max-w-6xl h-12 px-6"><div class="flex items-center justify-start justify-self-start"><div class="flex nav-item h-12 w-12 items-center justify-center"><a class=text-white href=https://aakinshin.net/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#house-chimney"/></svg></a></div><div class="flex nav-item h-12 items-center"><a class="px-3 text-white" href=https://aakinshin.net/posts/>Posts</a></div><div class="flex nav-item h-12 items-center"><a class="px-3 text-white" href=https://aakinshin.net/research/>Research</a></div><div class="flex nav-item h-12 items-center"><a class="px-3 text-white" href=https://aakinshin.net/about/>About</a></div></div><button id=theme-toggle type=button class="nav-item p-3 content-center justify-self-end"><svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></div></nav><div class="main container mx-auto max-w-6xl px-6"><div class=main-post><h1 class=blog-post-title id=post-title>Fence-based outlier detectors, Part 1</h1><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg><time datetime=2022-03-29>March 29, 2022</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a>
<a class=label-link href=https://aakinshin.net/tags/outliers/>Outliers</a></div></div><br><div class=main-content><p>In previous posts, I discussed properties of <a href=https://aakinshin.net/posts/tukey-outlier-probability/>Tukey&rsquo;s fences</a>
and asymmetric decile-based outlier detector
(<a href=https://aakinshin.net/posts/asymmetric-decile-outliers1/>Part 1</a>, <a href=https://aakinshin.net/posts/asymmetric-decile-outliers2/>Part 2</a>).
In this post, I discuss the generalization of fence-based outlier detectors.</p><h2 id=notation>Notation</h2><p>A <strong>S</strong>ymmetric <strong>F</strong>ence-based outlier detector could be defined using the following range:</p><p><span class="math display">\[SF(p, k) = [Q_p - k(Q_{1-p} - Q_p), Q_{1-p} + k(Q_{1-p} - Q_p)]
\]</span></p><p>where <span class="math inline">\(Q_s\)</span> is an estimation of the <span class="math inline">\(s^\textrm{th}\)</span> quantile, <span class="math inline">\(p \in [0, 0.5]\)</span>.</p><p>All the sample elements outside this range are marked as outliers.
Using this notation, Tukey&rsquo;s fences could be defined as <span class="math inline">\(SF(0.25, k)\)</span>.</p><p>An <strong>A</strong>symmetric <strong>F</strong>ence-based outlier detector is defined using the following range:</p><p><span class="math display">\[AF(p, k) = [Q_p - 2k(Q_{0.5} - Q_{p}), Q_{1-p} + 2k(Q_{1-p} - Q_{0.5})].
\]</span></p><p>An asymmetric decile-based outlier detector could be defined as <span class="math inline">\(AF(0.1, k)\)</span>.</p><h2 id=simulation-1>Simulation 1</h2><p>Let&rsquo;s perform the following experiment:</p><ul><li>Enumerate two types of fence-based outlier detectors: asymmetric and symmetric.</li><li>Enumerate different <span class="math inline">\(p\)</span> values: <span class="math inline">\(0.1\)</span> (deciles) and <span class="math inline">\(0.25\)</span> (quartiles).</li><li>Enumerate different <span class="math inline">\(k\)</span> values: <span class="math inline">\(1.0\)</span>, <span class="math inline">\(1.5\)</span>, <span class="math inline">\(2.0\)</span>, <span class="math inline">\(2.5\)</span>, <span class="math inline">\(3.0\)</span>, <span class="math inline">\(3.5\)</span>, <span class="math inline">\(4.0\)</span>.</li><li>Enumerate different distributions:
the normal distribution, the exponential distribution, the Gumbel distribution.</li><li>For each combination of the above parameters, estimate the fence values assuming that
<span class="math inline">\(Q_s\)</span> is the true value of <span class="math inline">\(s^\textrm{th}\)</span> quantile.
Next, calculate the portion of the distribution outside the fences.
Thus, we get the probability of observing a single outlier.</li></ul><p>The results are below.</p><p><strong>Normal distribution:</strong></p><table><thead><tr><th align=left>type</th><th align=right>p</th><th align=right>k</th><th align=right>outliers</th></tr></thead><tbody><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.00012072230941067211</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00000029563871592760</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00000000014767521496</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00000000000001483506</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00000000000000000015</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00000000000000000000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00000000000000000000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.04302479073838957196</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.00697660323928020812</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.00074502950319118666</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.00005189186759204938</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00000234194246287498</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00000006817407812073</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00000000127585892633</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.00012072230941067211</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00000029563871592760</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00000000014767521496</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00000000000001483506</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00000000000000000015</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00000000000000000000</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00000000000000000000</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.04302479073838957196</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.00697660323928020812</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.00074502950319118666</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.00005189186759204938</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00000234194246287498</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00000006817407812073</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00000000127585892633</td></tr></tbody></table><p><strong>Exponential distribution:</strong></p><table><thead><tr><th align=left>type</th><th align=right>p</th><th align=right>k</th><th align=right>outliers</th></tr></thead><tbody><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.00400000000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00080000000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00016000000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00003200000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00000640000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00000128000</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00000025600</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.06250000000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.03125000000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.01562500000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.00781250000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00390625000</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00195312500</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00097656250</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.01111111111</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00370370370</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00123456790</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00041152263</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00013717421</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00004572474</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00001524158</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.08333333333</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.04811252243</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.02777777778</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.01603750748</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00925925926</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00534583583</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00308641975</td></tr></tbody></table><p><strong>Gumbel distribution:</strong></p><table><thead><tr><th align=left>type</th><th align=right>p</th><th align=right>k</th><th align=right>outliers</th></tr></thead><tbody><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.00243138782251</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00036996004078</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00005624389383</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00000854944973</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00000129954752</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00000019753535</td></tr><tr><td align=left>AF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00000003002599</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.05225343350821</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.02037237984519</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.00849982291839</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.00353655486394</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00146932399013</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00061008683006</td></tr><tr><td align=left>AF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00025325410919</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.0</td><td align=right>0.00480943027492</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>1.5</td><td align=right>0.00103073558090</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.0</td><td align=right>0.00022057403284</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>2.5</td><td align=right>0.00004718708372</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.0</td><td align=right>0.00001009397656</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>3.5</td><td align=right>0.00000215921115</td></tr><tr><td align=left>SF</td><td align=right>0.10</td><td align=right>4.0</td><td align=right>0.00000046187726</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.0</td><td align=right>0.05920771183234</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>1.5</td><td align=right>0.02682956730034</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.0</td><td align=right>0.01231232518267</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>2.5</td><td align=right>0.00562770388698</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.0</td><td align=right>0.00256759594377</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>3.5</td><td align=right>0.00117046709217</td></tr><tr><td align=left>SF</td><td align=right>0.25</td><td align=right>4.0</td><td align=right>0.00053336722084</td></tr></tbody></table><h2 id=simulation-2>Simulation 2</h2><p>Let&rsquo;s perform the following experiment:</p><ul><li>Enumerate two types of fence-based outlier detectors: asymmetric and symmetric.</li><li>Enumerate different <span class="math inline">\(p\)</span> values: <span class="math inline">\(0.1\)</span> (deciles) and <span class="math inline">\(0.25\)</span> (quartiles).</li><li>Enumerate different <span class="math inline">\(k\)</span> values: <span class="math inline">\(1.0\)</span>, <span class="math inline">\(1.5\)</span>, <span class="math inline">\(2.0\)</span>, <span class="math inline">\(2.5\)</span>, <span class="math inline">\(3.0\)</span>, <span class="math inline">\(3.5\)</span>, <span class="math inline">\(4.0\)</span>.</li><li>Enumerate different distributions:
the normal distribution, the exponential distribution, the Gumbel distribution.</li><li>Enumerate different sample sizes <span class="math inline">\(n\)</span>: <span class="math inline">\(5\)</span>, <span class="math inline">\(10\)</span>, <span class="math inline">\(50\)</span>, <span class="math inline">\(100\)</span>, <span class="math inline">\(500\)</span>, <span class="math inline">\(1000\)</span>.</li><li>For each combination of the above parameters, estimate the fence values assuming that
<span class="math inline">\(Q_s\)</span> is the true value of <span class="math inline">\(s^\textrm{th}\)</span> quantile.
Next, calculate the probability of having outliers for the given sample size <span class="math inline">\(n\)</span>.</li></ul><p>The results are below.</p><p><strong>Normal distribution, SF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.0006</td><td align=right>0.00121</td><td align=right>0.00602</td><td align=right>0.01200</td><td align=right>0.05858</td><td align=right>0.11373</td></tr><tr><td align=left>1.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00003</td><td align=right>0.00015</td><td align=right>0.00030</td></tr><tr><td align=left>2</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>2.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>3</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>3.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>4</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr></tbody></table><p><strong>Normal distribution, SF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.19739</td><td align=right>0.35582</td><td align=right>0.88907</td><td align=right>0.98770</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.03440</td><td align=right>0.06762</td><td align=right>0.29535</td><td align=right>0.50347</td><td align=right>0.96982</td><td align=right>0.99909</td></tr><tr><td align=left>2</td><td align=right>0.00372</td><td align=right>0.00743</td><td align=right>0.03658</td><td align=right>0.07182</td><td align=right>0.31110</td><td align=right>0.52541</td></tr><tr><td align=left>2.5</td><td align=right>0.00026</td><td align=right>0.00052</td><td align=right>0.00259</td><td align=right>0.00518</td><td align=right>0.02561</td><td align=right>0.05057</td></tr><tr><td align=left>3</td><td align=right>0.00001</td><td align=right>0.00002</td><td align=right>0.00012</td><td align=right>0.00023</td><td align=right>0.00117</td><td align=right>0.00234</td></tr><tr><td align=left>3.5</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00003</td><td align=right>0.00007</td></tr><tr><td align=left>4</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr></tbody></table><p><strong>Normal distribution, AF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.0006</td><td align=right>0.00121</td><td align=right>0.00602</td><td align=right>0.01200</td><td align=right>0.05858</td><td align=right>0.11373</td></tr><tr><td align=left>1.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00003</td><td align=right>0.00015</td><td align=right>0.00030</td></tr><tr><td align=left>2</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>2.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>3</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>3.5</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr><tr><td align=left>4</td><td align=right>0.0000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr></tbody></table><p><strong>Normal distribution, AF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.19739</td><td align=right>0.35582</td><td align=right>0.88907</td><td align=right>0.98770</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.03440</td><td align=right>0.06762</td><td align=right>0.29535</td><td align=right>0.50347</td><td align=right>0.96982</td><td align=right>0.99909</td></tr><tr><td align=left>2</td><td align=right>0.00372</td><td align=right>0.00743</td><td align=right>0.03658</td><td align=right>0.07182</td><td align=right>0.31110</td><td align=right>0.52541</td></tr><tr><td align=left>2.5</td><td align=right>0.00026</td><td align=right>0.00052</td><td align=right>0.00259</td><td align=right>0.00518</td><td align=right>0.02561</td><td align=right>0.05057</td></tr><tr><td align=left>3</td><td align=right>0.00001</td><td align=right>0.00002</td><td align=right>0.00012</td><td align=right>0.00023</td><td align=right>0.00117</td><td align=right>0.00234</td></tr><tr><td align=left>3.5</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00003</td><td align=right>0.00007</td></tr><tr><td align=left>4</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td></tr></tbody></table><p><strong>Exponential distribution, SF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.05433</td><td align=right>0.10572</td><td align=right>0.42803</td><td align=right>0.67285</td><td align=right>0.99625</td><td align=right>0.99999</td></tr><tr><td align=left>1.5</td><td align=right>0.01838</td><td align=right>0.03643</td><td align=right>0.16934</td><td align=right>0.31000</td><td align=right>0.84359</td><td align=right>0.97554</td></tr><tr><td align=left>2</td><td align=right>0.00616</td><td align=right>0.01228</td><td align=right>0.05990</td><td align=right>0.11621</td><td align=right>0.46080</td><td align=right>0.70926</td></tr><tr><td align=left>2.5</td><td align=right>0.00206</td><td align=right>0.00411</td><td align=right>0.02037</td><td align=right>0.04033</td><td align=right>0.18601</td><td align=right>0.33742</td></tr><tr><td align=left>3</td><td align=right>0.00069</td><td align=right>0.00137</td><td align=right>0.00684</td><td align=right>0.01362</td><td align=right>0.06629</td><td align=right>0.12819</td></tr><tr><td align=left>3.5</td><td align=right>0.00023</td><td align=right>0.00046</td><td align=right>0.00228</td><td align=right>0.00456</td><td align=right>0.02260</td><td align=right>0.04470</td></tr><tr><td align=left>4</td><td align=right>0.00008</td><td align=right>0.00015</td><td align=right>0.00076</td><td align=right>0.00152</td><td align=right>0.00759</td><td align=right>0.01513</td></tr></tbody></table><p><strong>Exponential distribution, SF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.35277</td><td align=right>0.58110</td><td align=right>0.98710</td><td align=right>0.99983</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.21850</td><td align=right>0.38926</td><td align=right>0.91503</td><td align=right>0.99278</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>2</td><td align=right>0.13138</td><td align=right>0.24551</td><td align=right>0.75550</td><td align=right>0.94022</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>2.5</td><td align=right>0.07766</td><td align=right>0.14928</td><td align=right>0.55442</td><td align=right>0.80146</td><td align=right>0.99969</td><td align=right>1.00000</td></tr><tr><td align=left>3</td><td align=right>0.04545</td><td align=right>0.08883</td><td align=right>0.37194</td><td align=right>0.60554</td><td align=right>0.99045</td><td align=right>0.99991</td></tr><tr><td align=left>3.5</td><td align=right>0.02644</td><td align=right>0.05219</td><td align=right>0.23510</td><td align=right>0.41493</td><td align=right>0.93144</td><td align=right>0.99530</td></tr><tr><td align=left>4</td><td align=right>0.01534</td><td align=right>0.03044</td><td align=right>0.14321</td><td align=right>0.26591</td><td align=right>0.78682</td><td align=right>0.95455</td></tr></tbody></table><p><strong>Exponential distribution, AF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.01984</td><td align=right>0.03929</td><td align=right>0.18160</td><td align=right>0.33022</td><td align=right>0.86521</td><td align=right>0.98183</td></tr><tr><td align=left>1.5</td><td align=right>0.00399</td><td align=right>0.00797</td><td align=right>0.03923</td><td align=right>0.07691</td><td align=right>0.32979</td><td align=right>0.55081</td></tr><tr><td align=left>2</td><td align=right>0.00080</td><td align=right>0.00160</td><td align=right>0.00797</td><td align=right>0.01587</td><td align=right>0.07689</td><td align=right>0.14787</td></tr><tr><td align=left>2.5</td><td align=right>0.00016</td><td align=right>0.00032</td><td align=right>0.00160</td><td align=right>0.00319</td><td align=right>0.01587</td><td align=right>0.03149</td></tr><tr><td align=left>3</td><td align=right>0.00003</td><td align=right>0.00006</td><td align=right>0.00032</td><td align=right>0.00064</td><td align=right>0.00319</td><td align=right>0.00638</td></tr><tr><td align=left>3.5</td><td align=right>0.00001</td><td align=right>0.00001</td><td align=right>0.00006</td><td align=right>0.00013</td><td align=right>0.00064</td><td align=right>0.00128</td></tr><tr><td align=left>4</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00003</td><td align=right>0.00013</td><td align=right>0.00026</td></tr></tbody></table><p><strong>Exponential distribution, AF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.27580</td><td align=right>0.47554</td><td align=right>0.96032</td><td align=right>0.99843</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.14678</td><td align=right>0.27202</td><td align=right>0.79555</td><td align=right>0.95820</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>2</td><td align=right>0.07572</td><td align=right>0.14571</td><td align=right>0.54498</td><td align=right>0.79296</td><td align=right>0.99962</td><td align=right>1.00000</td></tr><tr><td align=left>2.5</td><td align=right>0.03846</td><td align=right>0.07543</td><td align=right>0.32440</td><td align=right>0.54357</td><td align=right>0.98019</td><td align=right>0.99961</td></tr><tr><td align=left>3</td><td align=right>0.01938</td><td align=right>0.03838</td><td align=right>0.17774</td><td align=right>0.32388</td><td align=right>0.85871</td><td align=right>0.98004</td></tr><tr><td align=left>3.5</td><td align=right>0.00973</td><td align=right>0.01936</td><td align=right>0.09313</td><td align=right>0.17758</td><td align=right>0.62376</td><td align=right>0.85844</td></tr><tr><td align=left>4</td><td align=right>0.00487</td><td align=right>0.00972</td><td align=right>0.04768</td><td align=right>0.09308</td><td align=right>0.38647</td><td align=right>0.62358</td></tr></tbody></table><p><strong>Gumbel distribution, SF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.02382</td><td align=right>0.04707</td><td align=right>0.21420</td><td align=right>0.38252</td><td align=right>0.91023</td><td align=right>0.99194</td></tr><tr><td align=left>1.5</td><td align=right>0.00514</td><td align=right>0.01026</td><td align=right>0.05026</td><td align=right>0.09799</td><td align=right>0.40288</td><td align=right>0.64345</td></tr><tr><td align=left>2</td><td align=right>0.00110</td><td align=right>0.00220</td><td align=right>0.01097</td><td align=right>0.02182</td><td align=right>0.10443</td><td align=right>0.19796</td></tr><tr><td align=left>2.5</td><td align=right>0.00024</td><td align=right>0.00047</td><td align=right>0.00236</td><td align=right>0.00471</td><td align=right>0.02332</td><td align=right>0.04609</td></tr><tr><td align=left>3</td><td align=right>0.00005</td><td align=right>0.00010</td><td align=right>0.00050</td><td align=right>0.00101</td><td align=right>0.00503</td><td align=right>0.01004</td></tr><tr><td align=left>3.5</td><td align=right>0.00001</td><td align=right>0.00002</td><td align=right>0.00011</td><td align=right>0.00022</td><td align=right>0.00108</td><td align=right>0.00216</td></tr><tr><td align=left>4</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00002</td><td align=right>0.00005</td><td align=right>0.00023</td><td align=right>0.00046</td></tr></tbody></table><p><strong>Gumbel distribution, SF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.26300</td><td align=right>0.45683</td><td align=right>0.95272</td><td align=right>0.99776</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.12714</td><td align=right>0.23812</td><td align=right>0.74329</td><td align=right>0.93410</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>2</td><td align=right>0.06006</td><td align=right>0.11652</td><td align=right>0.46175</td><td align=right>0.71029</td><td align=right>0.99796</td><td align=right>1.00000</td></tr><tr><td align=left>2.5</td><td align=right>0.02782</td><td align=right>0.05487</td><td align=right>0.24586</td><td align=right>0.43128</td><td align=right>0.94050</td><td align=right>0.99646</td></tr><tr><td align=left>3</td><td align=right>0.01277</td><td align=right>0.02538</td><td align=right>0.12063</td><td align=right>0.22670</td><td align=right>0.72347</td><td align=right>0.92353</td></tr><tr><td align=left>3.5</td><td align=right>0.00584</td><td align=right>0.01164</td><td align=right>0.05688</td><td align=right>0.11052</td><td align=right>0.44322</td><td align=right>0.68999</td></tr><tr><td align=left>4</td><td align=right>0.00266</td><td align=right>0.00532</td><td align=right>0.02632</td><td align=right>0.05195</td><td align=right>0.23414</td><td align=right>0.41346</td></tr></tbody></table><p><strong>Gumbel distribution, AF, p=0.1</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.01210</td><td align=right>0.02405</td><td align=right>0.11460</td><td align=right>0.21607</td><td align=right>0.70393</td><td align=right>0.91235</td></tr><tr><td align=left>1.5</td><td align=right>0.00185</td><td align=right>0.00369</td><td align=right>0.01833</td><td align=right>0.03633</td><td align=right>0.16891</td><td align=right>0.30929</td></tr><tr><td align=left>2</td><td align=right>0.00028</td><td align=right>0.00056</td><td align=right>0.00281</td><td align=right>0.00561</td><td align=right>0.02773</td><td align=right>0.05469</td></tr><tr><td align=left>2.5</td><td align=right>0.00004</td><td align=right>0.00009</td><td align=right>0.00043</td><td align=right>0.00085</td><td align=right>0.00427</td><td align=right>0.00851</td></tr><tr><td align=left>3</td><td align=right>0.00001</td><td align=right>0.00001</td><td align=right>0.00006</td><td align=right>0.00013</td><td align=right>0.00065</td><td align=right>0.00130</td></tr><tr><td align=left>3.5</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00001</td><td align=right>0.00002</td><td align=right>0.00010</td><td align=right>0.00020</td></tr><tr><td align=left>4</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00000</td><td align=right>0.00002</td><td align=right>0.00003</td></tr></tbody></table><p><strong>Gumbel distribution, AF, p=0.25</strong>:</p><table><thead><tr><th align=left>k/n</th><th align=right>5</th><th align=right>10</th><th align=right>50</th><th align=right>100</th><th align=right>500</th><th align=right>1000</th></tr></thead><tbody><tr><td align=left>1</td><td align=right>0.23535</td><td align=right>0.41531</td><td align=right>0.93167</td><td align=right>0.99533</td><td align=right>1.00000</td><td align=right>1.00000</td></tr><tr><td align=left>1.5</td><td align=right>0.09780</td><td align=right>0.18603</td><td align=right>0.64269</td><td align=right>0.87233</td><td align=right>0.99997</td><td align=right>1.00000</td></tr><tr><td align=left>2</td><td align=right>0.04178</td><td align=right>0.08182</td><td align=right>0.34741</td><td align=right>0.57413</td><td align=right>0.98599</td><td align=right>0.99980</td></tr><tr><td align=left>2.5</td><td align=right>0.01756</td><td align=right>0.03481</td><td align=right>0.16234</td><td align=right>0.29832</td><td align=right>0.82991</td><td align=right>0.97107</td></tr><tr><td align=left>3</td><td align=right>0.00733</td><td align=right>0.01460</td><td align=right>0.07088</td><td align=right>0.13674</td><td align=right>0.52059</td><td align=right>0.77017</td></tr><tr><td align=left>3.5</td><td align=right>0.00305</td><td align=right>0.00608</td><td align=right>0.03005</td><td align=right>0.05920</td><td align=right>0.26298</td><td align=right>0.45680</td></tr><tr><td align=left>4</td><td align=right>0.00127</td><td align=right>0.00253</td><td align=right>0.01258</td><td align=right>0.02501</td><td align=right>0.11895</td><td align=right>0.22375</td></tr></tbody></table></div><br><br><div class="flex flex-wrap justify-center items-center">The source code of this post and all the relevant files are&nbsp;<a href=https://github.com/AndreyAkinshin/aakinshin.net/tree/master/content/en/posts/2022/03/fenced-outlier-detectors1/index.md>available on GitHub</a>.</div><div class="flex flex-wrap justify-center items-center mb-5"><span>Share:</span><div class="text-4xl pl-3"><a href="https://www.reddit.com/submit?url=https%3a%2f%2faakinshin.net%2fposts%2ffenced-outlier-detectors1%2f&title=Fence-based%20outlier%20detectors%2c%20Part%201" target=_blank title="Share on Reddit"><svg class="fai fai-link"><use xlink:href="/img/fa/all.svg#reddit"/></svg></a></div><div class="text-4xl pl-3"><a href="https://twitter.com/intent/tweet?text=Fence-based%20outlier%20detectors%2c%20Part%201&url=https%3a%2f%2faakinshin.net%2fposts%2ffenced-outlier-detectors1%2f&via=andrey_akinshin&related=andrey_akinshin" rel=nofollow target=_blank title="Share on Twitter"><svg class="fai fai-link"><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></div><div class="text-4xl pl-3"><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2faakinshin.net%2fposts%2ffenced-outlier-detectors1%2f" target=_blank title="Share on HackerNews"><svg class="fai fai-link"><use xlink:href="/img/fa/all.svg#hacker-news"/></svg></a></div><div class="text-4xl pl-3"><a href="https://getpocket.com/save?url=https%3a%2f%2faakinshin.net%2fposts%2ffenced-outlier-detectors1%2f&title=Fence-based%20outlier%20detectors%2c%20Part%201" target=_blank title="Add to Pocket"><svg class="fai fai-link"><use xlink:href="/img/fa/all.svg#get-pocket"/></svg></a></div></div></div></div><script>var themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleBtn,themeToggleLightIcon=document.getElementById("theme-toggle-light-icon");const imagesDark=document.querySelectorAll(".img-dark"),imagesLight=document.querySelectorAll(".img-light");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(themeToggleLightIcon.classList.remove("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")})):(themeToggleDarkIcon.classList.remove("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")})),themeToggleBtn=document.getElementById("theme-toggle"),themeToggleBtn.addEventListener("click",function(){themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon.classList.toggle("hidden"),imagesLight.forEach(e=>{e.classList.toggle("hidden")}),imagesDark.forEach(e=>{e.classList.toggle("hidden")}),localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))})</script><footer class="z-20 p-4 md:p-6 mt-3 w-full border-t border-gray-200 shadow flex items-center justify-center dark:border-gray-600 bg-white dark:bg-zinc-800"><span class="dark:text-gray-400 text-center">© 2013—2023 <span class=whitespace-nowrap>Andrey Akinshin</span></span><ul class="flex flex-wrap items-center px-4 mb-1"><li><a href=https://github.com/AndreyAkinshin><svg class="fai fai-link w-5 h-5"><title>GitHub</title><use xlink:href="/img/fa/all.svg#github"/></svg></a></li><li><a href=https://twitter.com/andrey_akinshin><svg class="fai fai-link w-5 h-5"><title>Twitter</title><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></li><li><a href=https://aakinshin.net/posts/index.xml><svg class="fai fai-link w-5 h-5"><title>RSS</title><use xlink:href="/img/fa/all.svg#rss"/></svg></a></li></ul><div class=main-content><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></div></footer><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script></body></html>