<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.123.8"><meta name=author content='Andrey Akinshin'><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content='Mathematics,Statistics,Research'><title>Adaptation of continuous scale measures to discrete distributions | Andrey Akinshin</title>
<meta name=description content="In statistics, it is often important to have a reliable measure of scale since it is required for estimating many types of the effect size and for statistical tests. If we work with continuous distributions, there are plenty of available scale measures with..."><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link href=https://aakinshin.net/css/main.min.beef8b4fb043af14c2883e35de1b55e76fb412aa04a92889080ed30141cda7b6.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"></head><body class="flex flex-col min-h-screen"><nav><div class="container flex flex-wrap items-center justify-between mx-auto max-w-6xl h-12 px-2 xs:px-6"><div class="flex items-center justify-start justify-self-start"><div class="flex nav-item h-12 w-12 items-center justify-center"><a class=text-white href=https://aakinshin.net/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#house-chimney"/></svg></a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/feed/>Feed</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/library/>Library</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/research-projects/>Research</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/about/>About</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/search/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#magnifying-glass"/></svg></a></div></div><button id=theme-toggle type=button title="Alt+Click to match OS color theme" class="nav-item p-3 content-center justify-self-end"><svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></div></nav><div class="main container mx-auto max-w-6xl px-6 flex-grow"><div class=main-post><h1 class=blog-post-title id=post-title>Adaptation of continuous scale measures to discrete distributions</h1><div class="flex flex-wrap justify-start items-center"><div class="flex flex-wrap gap-y-1"><span class=label><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#calendar"/></svg>
<time datetime=2023-04-04>April 4, 2023</time>
</span><a class=label-link href=https://aakinshin.net/tags/mathematics/><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#math"/></svg>
Mathematics
</a><a class=label-link href=https://aakinshin.net/tags/statistics/><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#statistics"/></svg>
Statistics
</a><a class=label-link href=https://aakinshin.net/tags/research/>Research</a></div></div><br><div class=main-content><p>In statistics, it is often important to have a reliable measure of scale
since it is required for estimating many types of the effect size and for statistical tests.
If we work with continuous distributions,
there are plenty of available scale measures with various levels of statistical efficiency and robustness.
However, when distribution becomes discrete (e.g. because of the limited resolution of the measure tools),
classic measures of scale can collapse to zero due to tied values in collected samples.
This can be a severe problem in the analysis
since the scale measures are often used as denominators in various equations.
To make the calculations more reliable,
it is important to handle such situations somehow and ensure that the target scale measure never becomes zero.
In this post,
I discuss a simple approach to work around this problem and adapt any given measure of scale to the discrete case.</p><h3 id=the-problem>The problem</h3><p>First, let us consider an example that illustrates the problem.
For two given samples, we want to estimate the <a href=https://aakinshin.net/posts/nonparametric-effect-size2/>effect size</a> that is expressed as
a difference between measures of central tendency divided by the pooled measure of scale.
The classic example of the effect size from this family is Cohen&rsquo;s d:</p>$$
d = \frac{\overline{\mathbf{y}}-\overline{\mathbf{x}}}{s},
$$<p>where
$\mathbf{x} = \{ x_1, x_2, \ldots, x_{n_x} \}$ and $\mathbf{y} = \{ y_1, y_2, \ldots, y_{n_y} \}$
are the given samples,
$\overline{\mathbf{x}}$ and $\overline{\mathbf{y}}$ are the sample means,
$s$ is the <a href=https://en.wikipedia.org/wiki/Pooled_standard_deviation>pooled standard deviation</a>:</p>$$
s = \sqrt{\frac{(n_x - 1) s^2_x + (n_y - 1) s^2_y}{n_x + n_y - 2}},
$$<p>where $s_x$ and $s_y$ are standard deviations of $\mathbf{x}$ and $\mathbf{y}$.</p><p>When we calculate Cohen&rsquo;s d for two samples from normal distributions,
everything works smoothly.
Here are two samples from $\mathcal{N}(0, 1)$ and $\mathcal{N}(1, 1)$:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>Case</span> <span class=n>A</span>
</span></span><span class=line><span class=cl><span class=n>x</span> ≈ <span class=p>{</span><span class=m>0.474</span><span class=p>,</span> <span class=m>-0.555</span><span class=p>,</span> <span class=m>-0.01</span><span class=p>,</span> <span class=m>1.067</span><span class=p>,</span> <span class=m>-0.712</span><span class=p>,</span> <span class=m>-0.321</span><span class=p>,</span> <span class=m>-1.238</span><span class=p>,</span> <span class=m>-1.085</span><span class=p>,</span> <span class=m>0.869</span><span class=p>,</span> <span class=m>2.316</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>y</span> ≈ <span class=p>{</span><span class=m>1.315</span><span class=p>,</span> <span class=m>-0.271</span><span class=p>,</span> <span class=m>1.563</span><span class=p>,</span> <span class=m>0.54</span><span class=p>,</span> <span class=m>1.81</span><span class=p>,</span> <span class=m>1.905</span><span class=p>,</span> <span class=m>-0.209</span><span class=p>,</span> <span class=m>1.001</span><span class=p>,</span> <span class=m>0.543</span><span class=p>,</span> <span class=m>2.149</span><span class=p>}</span>
</span></span></code></pre></div><p>For this case, the pooled standard deviation is $s \approx 0.993$, and Cohen&rsquo;s d is $d \approx 0.961$.
We are lucky enough because we got quite an accurate estimate of the true difference between distributions.</p><p>Now let us consider another example:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-r data-lang=r><span class=line><span class=cl><span class=n>Case</span> <span class=n>B</span>
</span></span><span class=line><span class=cl><span class=n>x</span> <span class=o>=</span> <span class=p>{</span><span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>,</span> <span class=m>0</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>y</span> <span class=o>=</span> <span class=p>{</span><span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>,</span> <span class=m>1</span><span class=p>}</span>
</span></span></code></pre></div><p>In this case, the standard deviation is zero for both samples.
Therefore, the pooled standard deviation is also zero, the Cohen&rsquo;s d cannot be evaluated.
A convenient measure of effect size for such a discrete degenerated case is
the absolute difference between measures of central tendency expressed in raw measurement units.</p><p>When the properties of the distribution are known in advance,
we can choose the proper effect size measure during the design stage of the research.
But what if we don&rsquo;t know these properties, and we want to apply a universal approach to any given data?</p><h3 id=a-possible-solution>A possible solution</h3><p>To tackle this issue, we can adapt the continuous scale measures to discrete data
using a simple method that guarantees non-zero values.
The main idea is to add a small constant $\delta$ to the calculated scale measure,
which prevents it from collapsing to zero.
This constant should be chosen based on the resolution of the measurement scale
to avoid distorting the results significantly.
The straightforward approach to define the adapted measure of scale $s'$ may look like this:</p>$$
s' = s + \delta,
$$<p>where
$s$ is the original scale measure,
$\delta$ is the measurement resolution.
This ensures that $s'$ is always positive and never collapses to zero,
allowing the calculation of effect size measures like Cohen&rsquo;s d.
However, in order to reduce the impact of $\delta$ on the final scale estimation, we can use the following approach:</p>$$
s' = \sqrt{s^2 + \delta^2}.
$$<p>The difference between $1/s$, $1/(s+\delta)$, and $1/\sqrt{s^2+\delta^2}$
for $\delta=1$ is shown in the following figure:</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/scale-measure-for-discrete-case/img/s-light.svg target=_blank alt=s><img src=/posts/scale-measure-for-discrete-case/img/s-light.svg width=800>
</a><a class="img-dark hidden" href=/posts/scale-measure-for-discrete-case/img/s-dark.svg target=_blank alt=s><img src=/posts/scale-measure-for-discrete-case/img/s-dark.svg width=800></a></div><p>It seems that $s' = \sqrt{s^2 + \delta^2}$ is the winner:
it gives a neglectable impact on the final estimation for large values of $s$,
and it provides a smoother transition towards $\delta$ around $s \approx 0$ than $s'=1+\delta$.</p><p>For example, in Case A, switching from $s$ to $s'$ using $\delta = 0.001$
will not produce any noticeable impact on the estimation:
$d$ switches from $\approx 0.960999141$ to $\approx 0.960998654$.</p><p>In Case B, switching from $s$ to $s'$ using $\delta = 1$ will give us $s'=1$,
which ensures a meaningful value of the effective size for this discrete case.</p><h3 id=conclusion>Conclusion</h3><p>Adapting continuous scale measures to discrete data is a simple yet effective approach to handling situations
where classical measures may collapse to zero.
By adding a small constant based on the resolution of the measurement scale,
we can ensure that the scale measure never becomes zero,
allowing us to compute effect size measures for a wide range of data types.</p><p>This method can be applied to any given measure of scale,
not just the pooled standard deviation,
making it a versatile tool for researchers and practitioners working with discrete data.
However, it is essential to choose the constant value carefully,
considering the context and the resolution of the measurement scale
to avoid introducing significant distortions to the results.</p></div></div></div><script>var themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleBtn,themeToggleLightIcon=document.getElementById("theme-toggle-light-icon");const imagesDark=document.querySelectorAll(".img-dark"),imagesLight=document.querySelectorAll(".img-light");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(themeToggleLightIcon.classList.remove("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")})):(themeToggleDarkIcon.classList.remove("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}));function toggleTheme(e){e?(document.documentElement.classList.add("dark"),themeToggleLightIcon.classList.remove("hidden"),themeToggleDarkIcon.classList.add("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")}),imagesLight.forEach(e=>{e.classList.add("hidden")})):(document.documentElement.classList.remove("dark"),themeToggleDarkIcon.classList.remove("hidden"),themeToggleLightIcon.classList.add("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}),imagesDark.forEach(e=>{e.classList.add("hidden")}))}themeToggleBtn=document.getElementById("theme-toggle"),themeToggleBtn.addEventListener("click",function(){themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon.classList.toggle("hidden"),imagesLight.forEach(e=>{e.classList.toggle("hidden")}),imagesDark.forEach(e=>{e.classList.toggle("hidden")}),event.altKey?(localStorage.removeItem("color-theme"),toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches)):localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(localStorage.getItem("color-theme")===null){const t=e.matches?"dark":"light";toggleTheme(t==="dark")}})</script><footer class="z-20 p-4 md:p-6 mt-3 w-full border-t border-gray-200 shadow flex items-center justify-center dark:border-gray-600 bg-white dark:bg-zinc-800"><span class="dark:text-gray-400 text-center">© 2013—2024 <span class=whitespace-nowrap>Andrey Akinshin</span></span><ul class="flex flex-wrap items-center px-4 mb-1"><li><a href=https://github.com/AndreyAkinshin><svg class="fai fai-link w-5 h-5"><title>GitHub</title><use xlink:href="/img/fa/all.svg#github"/></svg></a></li><li><a href=https://twitter.com/andrey_akinshin><svg class="fai fai-link w-5 h-5"><title>Twitter</title><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></li><li><a href=https://aakinshin.net/posts/index.xml><svg class="fai fai-link w-5 h-5"><title>RSS</title><use xlink:href="/img/fa/all.svg#rss"/></svg></a></li></ul><div class=main-content><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></div></footer><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+=" has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script></body></html>