<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.123.3"><meta name=author content='Andrey Akinshin'><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content='Mathematics,Statistics,Research'><title>Ratio function vs. ratio distribution | Andrey Akinshin</title>
<meta name=description content="Let&amp;rsquo;s say we have two distributions $X$ and $Y$. In the previous post, we discussed how to express the &amp;ldquo;absolute difference&amp;rdquo; between them using the shift function and the shift distribution. Now let&amp;rsquo;s discuss how to express the &amp;ldqu..."><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link href=https://aakinshin.net/css/main.min.c61942ad3fb32a41f8a3bca6f32ed9e12e725f37cccbcd7c4e52232b65d7f106.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"></head><body><nav><div class="container flex flex-wrap items-center justify-between mx-auto max-w-6xl h-12 px-2 xs:px-6"><div class="flex items-center justify-start justify-self-start"><div class="flex nav-item h-12 w-12 items-center justify-center"><a class=text-white href=https://aakinshin.net/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#house-chimney"/></svg></a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/posts/>Posts</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/research/>Research</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/library/>Library</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/about/>About</a></div></div><button id=theme-toggle type=button title="Alt+Click to match OS color theme" class="nav-item p-3 content-center justify-self-end"><svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></div></nav><div class="main container mx-auto max-w-6xl px-6"><div class=main-post><h1 class=blog-post-title id=post-title>Ratio Function vs. Ratio Distribution</h1><div class="flex flex-wrap justify-start items-center"><svg class="fai text-accent-l dark:text-front-d"><title>Date</title><use xlink:href="/img/fa/all.svg#calendar-days"/></svg>
<time datetime=2021-12-14>December 14, 2021</time><svg class="fai ml-3 text-accent-l dark:text-front-d"><title>Tags</title><use xlink:href="/img/fa/all.svg#tag"/></svg><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/mathematics/>Mathematics</a>
<a class=label-link href=https://aakinshin.net/tags/statistics/>Statistics</a>
<a class=label-link href=https://aakinshin.net/tags/research/>Research</a></div></div><br><div class=main-content><p>Let&rsquo;s say we have two distributions $X$ and $Y$.
In the <a href=https://aakinshin.net/posts/shift-function-vs-distribution/>previous post</a>,
we discussed how to express the &ldquo;absolute difference&rdquo; between them
using the shift function and the shift distribution.
Now let&rsquo;s discuss how to express the &ldquo;relative difference&rdquo; between them.
This abstract term also could be expressed in various ways.
My favorite approach is to build the <a href=https://aakinshin.net/posts/shift-and-ratio-functions/>ratio function</a>.
In order to do this, for each quantile $p$, we should calculate $Q_Y(p)/Q_X(p)$ where $Q$ is the quantile function.
However, some people prefer using the <a href=https://en.wikipedia.org/wiki/Ratio_distribution>ratio distribution</a> $Y/X$.
While both approaches may provide similar results for narrow positive non-overlapping distributions,
they are not equivalent in the general case.
In this post, we briefly consider examples of both approaches.</p><h3 id=equal-standard-normal-distributions>Equal standard normal distributions</h3><p>Let&rsquo;s start with a simple case when both $X$ and $Y$ are the standard normal distributions:
$X=Y=\mathcal{N}(0,1)$.
Since distributions are equal, they have equal quantile functions: $Q_X=Q_Y$.
Thus $Q_Y(p)/Q_X(p)$ is $1$ for all $p$ values except $p=0$ (because $Q_Y(0)=Q_X(0)=0$).
Here is the corresponding <a href=https://aakinshin.net/posts/shift-and-ratio-functions/>ratio function</a>:</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/ratio-function-vs-distribution/img/ratio1-light.png target=_blank alt=ratio1><img src=/posts/ratio-function-vs-distribution/img/ratio1-light.png width=800>
</a><a class="img-dark hidden" href=/posts/ratio-function-vs-distribution/img/ratio1-dark.png target=_blank alt=ratio1><img src=/posts/ratio-function-vs-distribution/img/ratio1-dark.png width=800></a></div><p>Such a ratio function tells us that there is no difference between $X$ and $Y$.
If we want to build the ratio function for samples, we should just estimate quantiles for both samples.
As a robust and statistically efficient quantile estimator we can use
<a href=https://aakinshin.net/posts/preprint-thdqe/>the trimmed Harrell-Davis quantile estimator</a> (see <a href=/posts/ratio-function-vs-distribution/#Akinshin2021>[Akinshin2021]</a>).</p><p>We can also build the ratio distribution $Y/X$.
It&rsquo;s well-known that the ratio of two standard normal distributions is
the <a href=https://en.wikipedia.org/wiki/Cauchy_distribution>Cauchy distribution</a>:</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/ratio-function-vs-distribution/img/distr1-light.png target=_blank alt=distr1><img src=/posts/ratio-function-vs-distribution/img/distr1-light.png width=800>
</a><a class="img-dark hidden" href=/posts/ratio-function-vs-distribution/img/distr1-dark.png target=_blank alt=distr1><img src=/posts/ratio-function-vs-distribution/img/distr1-dark.png width=800></a></div><p>Having the Cauchy distribution in your experiments could bring some trouble.
Firstly, this distribution has heavy tails, so that we could expect extremely high outliers.
Secondly, the variance of the Cauchy distribution is undefined so that
<a href=https://en.wikipedia.org/wiki/Central_limit_theorem>the Central limit theorem</a> could not be applied there.</p><h3 id=equal-standard-uniform-distributions>Equal standard uniform distributions</h3><p>Now let&rsquo;s build both plots for two standard uniform distributions:
$X=Y=\mathcal{U}(0,1)$.
Obviously, the ratio function is defined as $Q_Y(p)/Q_X(p)=1$ for all $p$ values except $p=0$:</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/ratio-function-vs-distribution/img/ratio2-light.png target=_blank alt=ratio2><img src=/posts/ratio-function-vs-distribution/img/ratio2-light.png width=800>
</a><a class="img-dark hidden" href=/posts/ratio-function-vs-distribution/img/ratio2-dark.png target=_blank alt=ratio2><img src=/posts/ratio-function-vs-distribution/img/ratio2-dark.png width=800></a></div><p>The ratio of two uniform distributions <a href=https://stats.stackexchange.com/q/185683/261747>is defined as follows</a>:</p>$$
f(x) = \begin{cases}
1/2, & \text{if } 0 \le x \le 1 \\
1/(2x^2), & \text{if } x > 1 \\ 
0, & \text{otherwise}.
\end{cases}
$$<p>Here is the corresponding plot:</p><div class="flex my-7 justify-center"><a class="img-light hidden" href=/posts/ratio-function-vs-distribution/img/distr2-light.png target=_blank alt=distr2><img src=/posts/ratio-function-vs-distribution/img/distr2-light.png width=800>
</a><a class="img-dark hidden" href=/posts/ratio-function-vs-distribution/img/distr2-dark.png target=_blank alt=distr2><img src=/posts/ratio-function-vs-distribution/img/distr2-dark.png width=800></a></div><p>This picture describes the actual distribution of $Y/X$, but it doesn&rsquo;t provide useful insights about
the actual difference between $X$ and $Y$.</p><h3 id=conclusion>Conclusion</h3><p>Both the ratio function and the shift distribution may provide
useful insights about the properties of the difference between $X$ and $Y$.
However, if we want to get a clear picture that shows the actual relative difference between distribution PDFs,
the ratio function works much better.</p><h3 id=references>References</h3><ul><li><b id=Akinshin2021>[Akinshin2021]</b><br>Andrey Akinshin (2021)
Trimmed Harrell-Davis quantile estimator based on the highest density interval of the given width,<br><a href=https://arxiv.org/abs/2111.11776>arXiv:2111.11776</a></li></ul></div><br><br></div></div><script>var themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleBtn,themeToggleLightIcon=document.getElementById("theme-toggle-light-icon");const imagesDark=document.querySelectorAll(".img-dark"),imagesLight=document.querySelectorAll(".img-light");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(themeToggleLightIcon.classList.remove("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")})):(themeToggleDarkIcon.classList.remove("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}));function toggleTheme(e){e?(document.documentElement.classList.add("dark"),themeToggleLightIcon.classList.remove("hidden"),themeToggleDarkIcon.classList.add("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")}),imagesLight.forEach(e=>{e.classList.add("hidden")})):(document.documentElement.classList.remove("dark"),themeToggleDarkIcon.classList.remove("hidden"),themeToggleLightIcon.classList.add("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}),imagesDark.forEach(e=>{e.classList.add("hidden")}))}themeToggleBtn=document.getElementById("theme-toggle"),themeToggleBtn.addEventListener("click",function(){themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon.classList.toggle("hidden"),imagesLight.forEach(e=>{e.classList.toggle("hidden")}),imagesDark.forEach(e=>{e.classList.toggle("hidden")}),event.altKey?(localStorage.removeItem("color-theme"),toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches)):localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(localStorage.getItem("color-theme")===null){const t=e.matches?"dark":"light";toggleTheme(t==="dark")}})</script><footer class="z-20 p-4 md:p-6 mt-3 w-full border-t border-gray-200 shadow flex items-center justify-center dark:border-gray-600 bg-white dark:bg-zinc-800"><span class="dark:text-gray-400 text-center">© 2013—2024 <span class=whitespace-nowrap>Andrey Akinshin</span></span><ul class="flex flex-wrap items-center px-4 mb-1"><li><a href=https://github.com/AndreyAkinshin><svg class="fai fai-link w-5 h-5"><title>GitHub</title><use xlink:href="/img/fa/all.svg#github"/></svg></a></li><li><a href=https://twitter.com/andrey_akinshin><svg class="fai fai-link w-5 h-5"><title>Twitter</title><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></li><li><a href=https://aakinshin.net/posts/index.xml><svg class="fai fai-link w-5 h-5"><title>RSS</title><use xlink:href="/img/fa/all.svg#rss"/></svg></a></li></ul><div class=main-content><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></div></footer><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+=" has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script></body></html>