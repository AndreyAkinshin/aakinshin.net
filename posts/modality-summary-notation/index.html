<!doctype html><html lang=en class=h-100><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.103.0-DEV"><meta name=author content="Andrey Akinshin"><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content="Mathematics,Statistics,Research,Multimodality,QRDE,Harrell-Davis quantile estimator,Outliers"><title>Plain-text summary notation for multimodal distributions | Andrey Akinshin</title><meta name=description content="In this post, we consider a plain-text notation for multimodal distributions that highlights modes and outliers"><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><link href=https://aakinshin.net/sass/bootstrap-light.min.css theme=light rel=stylesheet type=text/css media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><link href=https://aakinshin.net/sass/bootstrap-dark.min.css theme=dark rel=stylesheet type=text/css media="(prefers-color-scheme: dark)"><script src=https://aakinshin.net/js/theme-before.min.d7f6578e23ad3f0c33c589f9bcb34f995b45121f1f3ce888869c86b26826c845.js></script>
<script type=module src=https://aakinshin.net/js/dark-mode-toggle.min.9e68d431432744c07a43381a8a833ffe0921cc0e006d84ad97f0b0d43c5cd82d.mjs></script>
<link href=https://aakinshin.net/css/fontawesome-all.min.178e95bba6ea2e9a90838cd646658f4bf6667a6ceaa057cb587bf7e6eb8412d3.css rel=stylesheet type=text/css media=all><link href=https://aakinshin.net/css/about.min.60773ab7266ecc6e9625306f57c0a82a219b011dc3ea2d83763d1ecdf11c86d2.css rel=stylesheet type=text/css media=all><link href=https://aakinshin.net/css/blog.min.7e186db80d8c431d196b3e0718afb0636b82a269a8c92521c11a55267a24fc27.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZVB6MXSX32"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-ZVB6MXSX32")</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-41419012-5"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-41419012-5")</script><script type=text/javascript>(function(e,t,n,s,o,i,a){e[o]=e[o]||function(){(e[o].a=e[o].a||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://mc.yandex.ru/metrika/tag.js","ym"),ym(28700916,"init",{clickmap:!0,trackLinks:!0,accurateTrackBounce:!0})</script><noscript><div><img src=https://mc.yandex.ru/watch/28700916 style=position:absolute;left:-9999px alt></div></noscript><script src=/js/jquery-3.3.1.slim.min.js></script></head><body class="d-flex flex-column min-vh-100"><div class=bg-primary><div class="container bg-primary"><nav class="navbar navbar-expand-sm navbar-dark bg-primary"><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link id=nav-link-blog href=https://aakinshin.net/><i class="fas fa-home" title=Home style=color:#fff></i></a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# role=button data-bs-toggle=dropdown aria-expanded=false>Blog</a><ul class="dropdown-menu bg-primary"><li><a class=dropdown-item href=https://aakinshin.net/posts/>All Posts</a></li><li><a class=dropdown-item href=https://aakinshin.net/tags/statistics/>Posts about Statistics</a></li><li></li><a class=dropdown-item href=https://aakinshin.net/tags/>All Tags</a></li></ul></li><li class=nav-item><a class=nav-link id=nav-link-about href=https://aakinshin.net/about/>About</a></li></ul><ul class="navbar-nav ms-auto"><li class=nav-item><dark-mode-toggle permanent=true></dark-mode-toggle></li></ul></nav></div></div><div class=container><main id=main><div class=blog-main><div class="blog-post table-sm"><h1 class=blog-post-title id=post-title>Plain-text summary notation for multimodal distributions</h1><span class=blog-post-meta><div class=faicon><i class="far fa-calendar-alt"></i></div><time datetime=2020-11-17>November 17, 2020</time>
&nbsp;&nbsp;
<i class="fas fa-tag"></i>
&nbsp;
<a href=https://aakinshin.net/tags/mathematics/ class="badge badge-info">Mathematics</a>
<a href=https://aakinshin.net/tags/statistics/ class="badge badge-info">Statistics</a>
<a href=https://aakinshin.net/tags/research/ class="badge badge-info">Research</a>
<a href=https://aakinshin.net/tags/multimodality/ class="badge badge-info">Multimodality</a>
<a href=https://aakinshin.net/tags/qrde/ class="badge badge-info">QRDE</a>
<a href=https://aakinshin.net/tags/harrell-davis-quantile-estimator/ class="badge badge-info">Harrell-Davis quantile estimator</a>
<a href=https://aakinshin.net/tags/outliers/ class="badge badge-info">Outliers</a></span><br><br><p>Let&rsquo;s say you collected a lot of data and want to explore the underlying distributions of collected samples.
If you have only a few distributions, the best way to do that is to look at the density plots
(expressed via histograms, kernel density estimations, or <a href=https://aakinshin.net/posts/qrde-hd/>quantile-respectful density estimations</a>).
However, it&rsquo;s not always possible.</p><p>Suppose you have to process dozens, hundreds, or even thousands of distributions.
In that case,
it may be extremely time-consuming to manually check visualizations of each distribution.
If you analyze distributions from the command line or send notifications about suspicious samples,
it may be impossible to embed images in the reports.
In these cases, there is a need to present a distribution using plain text.</p><p>One way to do that is plain text histograms.
Unfortunately, this kind of visualization may occupy o lot of space.
In complicated cases, you may need 20 or 30 lines per a single distribution.</p><p>Another way is to present classic <a href=https://en.wikipedia.org/wiki/Summary_statistics>summary statistics</a>
like mean or median, standard deviation or median absolute deviation, quantiles, skewness, and kurtosis.
There is another problem here:
without experience, it&rsquo;s hard to reconstruct the true distribution shape based on these values.
Even if you are an experienced researcher, the statistical metrics may become misleading in the case of multimodal distributions.
Multimodality is one of the most severe challenges in distribution analysis because it distorts basic summary statistics.
It&rsquo;s important to not only find such distribution but also have a way to present brief information about multimodality effects.</p><p>So, how can we condense the underlying distribution shape of a given sample to a short text line?
I didn&rsquo;t manage to find an approach that works fine in my cases, so I came up with my own notation.
Most of the interpretation problems in my experiments arise from multimodality and outliers,
so I decided to focus on these two things and specifically highlight them.
Let&rsquo;s consider this plot:</p><div class=row><div class=mx-auto><a href=/posts/modality-summary-notation/img/thumbnail-light.svg target=_blank class=imgldlink alt=thumbnail><picture><source theme=dark srcset=/posts/modality-summary-notation/img/thumbnail-dark.svg media="(prefers-color-scheme: dark)"><source theme=light srcset=/posts/modality-summary-notation/img/thumbnail-light.svg media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><img class="mx-auto d-block img-fluid" width=800 src=/posts/modality-summary-notation/img/thumbnail-light.svg></picture></a></div></div><br><p>I suggest describing it like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span>_100 + <span class=o>{</span>19.00<span class=o>}</span> + <span class=o>[</span>27.69<span class=p>;</span> 32.34<span class=o>]</span>_100 + <span class=o>{</span>37.00..39.00<span class=o>}</span>_3
</span></span></code></pre></div><p>Let me explain the suggested notation in detail.</p><h3 id=getting-summary-numbers>Getting summary numbers</h3><p>I explained how to find modes and outliers in previous blog posts:</p><ul><li><a href=https://aakinshin.net/posts/lowland-multimodality-detection/>&ldquo;Lowland multimodality detection&rdquo;</a> explains how to find the exact number of modes and their locations based on the given sample</li><li><a href=https://aakinshin.net/posts/intermodal-outliers/>&ldquo;Intermodal outliers&rdquo;</a> explains how to find mode ranges and detect intermodal outliers together with the global lower and upper outliers</li></ul><p>Once we finished the calculations, we get a series of subsets of the given samples like this:</p><ul><li>Lower outliers</li><li>Mode range #1</li><li>Intermodal outliers</li><li>Mode range #2</li><li>Intermodal outliers</li><li>&mldr;</li><li>Intermodal outliers</li><li>Mode range #N</li><li>Upper outliers</li></ul><p>In the case of the unimodal distribution, we have only three subsets:</p><ul><li>Lower outliers</li><li>Mode range</li><li>Upper outliers</li></ul><p>Note that some of the outlier subsets may be empty.
Meanwhile, mode ranges are always non-empty.</p><h3 id=mode-ranges>Mode ranges</h3><p>On the first step of the distribution exploration, we are often most interested in the range of values.
So, we can present a mode range as an interval from the minimum to the maximum sample element inside the mode range:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span>
</span></span></code></pre></div><p>If we want more details, we may also want to know the central tendency.
In the case of a single mode, the most reasonable metric is the mode location itself.
We can present it between the minimum and the maximum values:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>7.16 <span class=p>|</span> 10.03 <span class=p>|</span> 13.12<span class=o>]</span>
</span></span></code></pre></div><p>The next thing that is also good to know is accuracy.
Unfortunately, it&rsquo;s hard to find a good metric that describes the accuracy of all three numbers at the same time.
Even if we focus only on the mode value, we can try to introduce a confidence interval for the mode value,
but it will be hard to present it in an easily interpreted form without a long legend.
Since we describe the raw sample, it makes sense to present the number of elements in the range.
It provides a basic idea of accuracy.
For example, if a range contains only 5 elements, we can assume that the presented values are rough and untrustable.
If a range contains 10000 elements, we can assume that the presented values are pretty accurate.
If we are interested in more sophisticated metrics, we can always check them later.
However, the raw number of elements in the range is usually enough on the first step of exploration.
We can add this number as follows:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span>_100
</span></span><span class=line><span class=cl><span class=o>[</span>7.16 <span class=p>|</span> 10.03 <span class=p>|</span> 13.12<span class=o>]</span>_100
</span></span></code></pre></div><h3 id=outlier-ranges>Outlier ranges</h3><p>When we have no more than two outliers, we can present them as a set:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00<span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span>
</span></span></code></pre></div><p>If the number of outliers is more than two, we can skip the middle outliers using <code>..</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00..3.00<span class=o>}</span>
</span></span></code></pre></div><p>Thus, we get the value of the minimum and maximum outlier in the given group.
We can also show the number of outliers in this group as we did for mode ranges:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00..3.00<span class=o>}</span>_5
</span></span></code></pre></div><p>The outlier and mode ranges are easy to distinguish because they use different symbols
(<code>{A..B}</code> for outliers and <code>[A; B]</code> for modes).</p><h3 id=range-combination>Range combination</h3><p>Once we presented the mode ranges and the outliers group, we can just concatenate them using the <code>+</code> sign:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span>_100 + <span class=o>{</span>19.00<span class=o>}</span> + <span class=o>[</span>27.69<span class=p>;</span> 32.34<span class=o>]</span>_100 + <span class=o>{</span>37.00..39.00<span class=o>}</span>_3
</span></span></code></pre></div><p>This notation can be interpreted as follows:</p><ul><li><em>Lower outliers</em>: <code>{1.00, 2.00}</code> (two elements)</li><li><em>Mode #1</em>: <code>[7.16; 13.12]_100</code> (100 elements between 7.16 and 13.12)</li><li><em>Intermodal outliers</em>: <code>{19.00}</code> (one element)</li><li><em>Mode #2</em>: <code>[27.69; 32.34]_100</code> (100 elements between 27.69 and 32.34)</li><li><em>Upper outliers</em>: <code>{37.00..39.00}_3</code> (three elements)</li></ul><h3 id=compaction-vs-detailing>Compaction vs. detailing</h3><p>This notation aims to provide the most important information about the distribution in a very short way.
Some optional details like the number of elements in the ranges and the mode location may be useful for a unimodal distribution:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>3.12<span class=o>}</span> + <span class=o>[</span>12.56 <span class=p>|</span> 15.91 <span class=p>|</span> 25.03<span class=o>]</span>_100 + <span class=o>{</span>74.92..82.31<span class=o>}</span>_5
</span></span></code></pre></div><p>However, if we describe a bimodal distribution, such detailing may be quite long:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16 <span class=p>|</span> 10.02 <span class=p>|</span> 13.12<span class=o>]</span>_100 + <span class=o>{</span>19.00<span class=o>}</span> + <span class=o>[</span>27.69 <span class=p>|</span> 29.92 <span class=p>|</span> 32.34<span class=o>]</span>_100 + <span class=o>{</span>37.00..39.00<span class=o>}</span>_3
</span></span></code></pre></div><p>In this case, the mode location can be omitted since it&rsquo;s not so useful on the first step of exploration.
Mode ranges are much more important.
Thus, we can remove this value and make the notation shorter.
Optionally, the number of elements can be also omitted:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span> + <span class=o>{</span>19.00<span class=o>}</span> + <span class=o>[</span>27.69<span class=p>;</span> 32.34<span class=o>]</span> + <span class=o>{</span>37.00..39.00<span class=o>}</span>
</span></span></code></pre></div><p>In this case, we still keep the most important high-level information about modality and outliers.</p><p>However, if we describe a distribution with many modes, the notation may become long again:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span> + <span class=o>{</span>19.00<span class=o>}</span> + <span class=o>[</span>27.69<span class=p>;</span> 32.34<span class=o>]</span> + <span class=o>{</span>37.00..39.00<span class=o>}</span> +
</span></span><span class=line><span class=cl>               <span class=o>[</span>47.12<span class=p>;</span> 52.41<span class=o>]</span> + <span class=o>{</span>61.00<span class=o>}</span> + <span class=o>[</span>66.91<span class=p>;</span> 73.12<span class=o>]</span> + <span class=o>{</span>78.00, 79.00<span class=o>}</span>
</span></span></code></pre></div><p>In this case, we are not interested in the exact range of each node.
For the brief overview, it would be enough to get the idea of the overall range and the number of modes.
So, we can omit the middle nodes like this:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=o>{</span>1.00, 2.00<span class=o>}</span> + <span class=o>[</span>7.16<span class=p>;</span> 13.12<span class=o>]</span> + &lt;<span class=m>2</span> modes&gt; + <span class=o>[</span>66.91<span class=p>;</span> 73.12<span class=o>]</span> + <span class=o>{</span>78.00, 79.00<span class=o>}</span>
</span></span></code></pre></div><p>Using these tricks, we can always compact this notation to a form of the reasonable size
that highlights the most important information for the first look exploration.</p><h3 id=missing-metrics>Missing metrics</h3><p>The suggested notation doesn&rsquo;t contain some of the metrics usually included in such a kind of summaries.
Below you can find my reasoning that shows why I excluded some common metrics.</p><ul><li><strong>Global median</strong><br>In the multimodal case, the global median value without a density plot
may be misleading when it&rsquo;s located between modes.<div class=row><div class=mx-auto><a href=/posts/modality-summary-notation/img/median1-light.svg target=_blank class=imgldlink alt=median1><picture><source theme=dark srcset=/posts/modality-summary-notation/img/median1-dark.svg media="(prefers-color-scheme: dark)"><source theme=light srcset=/posts/modality-summary-notation/img/median1-light.svg media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><img class="mx-auto d-block img-fluid" width=800 src=/posts/modality-summary-notation/img/median1-light.svg></picture></a></div></div><br></li><li><strong>Mode range median</strong><br>The median often leads to a wrong impression about the skewness.
Based on my experience, when people see a combination of a range and a central tendency,
they imagine the central tendency matches the mode.
It&rsquo;s OK for symmetric distributions, but it may be misleading for skewed distributions.<div class=row><div class=mx-auto><a href=/posts/modality-summary-notation/img/median2-light.svg target=_blank class=imgldlink alt=median2><picture><source theme=dark srcset=/posts/modality-summary-notation/img/median2-dark.svg media="(prefers-color-scheme: dark)"><source theme=light srcset=/posts/modality-summary-notation/img/median2-light.svg media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><img class="mx-auto d-block img-fluid" width=800 src=/posts/modality-summary-notation/img/median2-light.svg></picture></a></div></div><br></li><li><strong>Skewness</strong><br>The raw value of skewness may be useful for an experienced researcher,
but it useless for most people.
Meanwhile, the range with the mode value allows imagining the mode shape without special skills.<div class=row><div class=mx-auto><a href=/posts/modality-summary-notation/img/skewness-light.svg target=_blank class=imgldlink alt=skewness><picture><source theme=dark srcset=/posts/modality-summary-notation/img/skewness-dark.svg media="(prefers-color-scheme: dark)"><source theme=light srcset=/posts/modality-summary-notation/img/skewness-light.svg media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><img class="mx-auto d-block img-fluid" width=800 src=/posts/modality-summary-notation/img/skewness-light.svg></picture></a></div></div><br></li><li><strong>Quartiles</strong><br>The first and third quartiles are an essential part of the <a href=https://en.wikipedia.org/wiki/Five-number_summary>five number summary</a>.
While it may be useful to see these values on the box plots,
it&rsquo;s not so useful in a plain text report.
In the five-number summary, we also have the minimum and the maximum value,
but they can be spoiled by outliers,
so Q1 and Q3 provide the value of the range that contains the middle 50% of elements in the given sample.
In our case, we already removed the outliers; it&rsquo;s enough to present just the mode ranges
(it plays the role of <a href=https://en.wikipedia.org/wiki/Credible_interval>highest density interval</a>).
The values of Q1 and Q3 will create visual noise, but they will not provide additional meaningful information
that helps to imagine a distribution on the first exploration step.<div class=row><div class=mx-auto><a href=/posts/modality-summary-notation/img/quartiles-light.svg target=_blank class=imgldlink alt=quartiles><picture><source theme=dark srcset=/posts/modality-summary-notation/img/quartiles-dark.svg media="(prefers-color-scheme: dark)"><source theme=light srcset=/posts/modality-summary-notation/img/quartiles-light.svg media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)"><img class="mx-auto d-block img-fluid" width=800 src=/posts/modality-summary-notation/img/quartiles-light.svg></picture></a></div></div><br></li><li><strong>Dispersion</strong><br>The measures of dispersion like
<a href=https://en.wikipedia.org/wiki/Standard_deviation>standard deviation</a> or
<a href=https://en.wikipedia.org/wiki/Median_absolute_deviation>median absolute deviation</a>
are very handy when we work with symmetric distributions.
Unfortunately, they may be misleading in the case of asymmetric distributions.
When we have a central tendency (e.g., mean, median, or mode) and a measure of dispersion,
we tend to reconstruct a range using a simple formula like <code>&lt;CentralTendency> ± k * &lt;Dispersion></code> where <code>k</code> is a random factor.
In this thought reconstruction, we always get a symmetric interval around the central tendency.
If we want to get an idea of asymmetry, we need two dispersion values: for the left and the right parts of the distribution.
Unfortunately, it makes the thought reconstruction even more challenging because we have more numbers to process.
Since we have the mode range, we already have an idea about the spread; we don&rsquo;t need an additional dispersion value.</li></ul><h3 id=reference-implementation>Reference implementation</h3><p>You can find a reference C# implementation of this algorithm in
the latest nightly version (0.3.0-nightly.59+) of <a href=https://github.com/AndreyAkinshin/perfolizer>perfolizer</a>
(see <code>LowlandModalityDetector</code>, <code>DoubleMadOutlierDetector</code>, <code>ManualModalityDataFormatter</code>).
Here is a code sample:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=c1>// Generate sample</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>random</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Random</span><span class=p>(</span><span class=m>42</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>data</span> <span class=p>=</span> <span class=k>new</span> <span class=n>List</span><span class=p>&lt;</span><span class=kt>double</span><span class=p>&gt;();</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=p>.</span><span class=n>AddRange</span><span class=p>(</span><span class=k>new</span><span class=p>[]</span> <span class=p>{</span><span class=m>1.0</span><span class=p>,</span> <span class=m>2.0</span><span class=p>});</span> <span class=c1>// Lower outliers</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=p>.</span><span class=n>AddRange</span><span class=p>(</span><span class=k>new</span> <span class=n>NormalDistribution</span><span class=p>(</span><span class=m>10</span><span class=p>,</span> <span class=m>1</span><span class=p>).</span><span class=n>Random</span><span class=p>(</span><span class=n>random</span><span class=p>).</span><span class=n>Next</span><span class=p>(</span><span class=m>100</span><span class=p>));</span> <span class=c1>// Mode #1</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=p>.</span><span class=n>AddRange</span><span class=p>(</span><span class=k>new</span><span class=p>[]</span> <span class=p>{</span><span class=m>19.0</span><span class=p>});</span> <span class=c1>// Intermodal outliers</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=p>.</span><span class=n>AddRange</span><span class=p>(</span><span class=k>new</span> <span class=n>NormalDistribution</span><span class=p>(</span><span class=m>30</span><span class=p>,</span> <span class=m>1</span><span class=p>).</span><span class=n>Random</span><span class=p>(</span><span class=n>random</span><span class=p>).</span><span class=n>Next</span><span class=p>(</span><span class=m>100</span><span class=p>));</span> <span class=c1>// Mode #2</span>
</span></span><span class=line><span class=cl><span class=n>data</span><span class=p>.</span><span class=n>AddRange</span><span class=p>(</span><span class=k>new</span><span class=p>[]</span> <span class=p>{</span><span class=m>37.0</span><span class=p>,</span> <span class=m>38.0</span><span class=p>,</span> <span class=m>39.0</span><span class=p>});</span> <span class=c1>// Upper outliers</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Find modes and outliers</span>
</span></span><span class=line><span class=cl><span class=kt>var</span> <span class=n>modalityData</span> <span class=p>=</span> <span class=n>LowlandModalityDetector</span><span class=p>.</span><span class=n>Instance</span><span class=p>.</span><span class=n>DetectModes</span><span class=p>(</span><span class=n>data</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>AutomaticModalityDataFormatter</span><span class=p>.</span><span class=n>Instance</span><span class=p>.</span><span class=n>Format</span><span class=p>(</span><span class=n>modalityData</span><span class=p>));</span>
</span></span></code></pre></div><p>This prints the following:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-cs data-lang=cs><span class=line><span class=cl><span class=p>{</span><span class=m>1.00</span><span class=p>,</span> <span class=m>2.00</span><span class=p>}</span> <span class=p>+</span> <span class=p>[</span><span class=m>7.16</span><span class=p>;</span> <span class=m>13.12</span><span class=p>]</span><span class=n>_100</span> <span class=p>+</span> <span class=p>{</span><span class=m>19.00</span><span class=p>}</span> <span class=p>+</span> <span class=p>[</span><span class=m>27.69</span><span class=p>;</span> <span class=m>32.34</span><span class=p>]</span><span class=n>_100</span> <span class=p>+</span> <span class=p>{</span><span class=m>37.00</span><span class=p>..</span><span class=m>39.00</span><span class=p>}</span><span class=n>_3</span>
</span></span></code></pre></div><h3 id=conclusion>Conclusion</h3><p>In this post, I showed a notation that provides a summary of a multimodal distribution shape.
It uses the following concepts:</p><ul><li>The primary focus is on the mode and outlier ranges.</li><li>Optionally, we can show more details using the mode locations in the number of elements in each sample subset.</li><li>If we get too many numbers, we notation can be shortified by omitting optional data or middle modes.</li></ul><p>Of course, we can modify the set of signs (<code>{}[];..|+</code>),
but I believe that the above concepts satisfy the original goal
(present the essential parameters of a multimodal distribution in a short plain-text form).</p><p>Personally, I use this notation to process sets of performance measurements.
In performance analysis, multimodality may be a severe problem,
so I would like to be aware of multimodal distributions in my data sets.
I prefer getting a plain text summary in two primary use cases:</p><ul><li>Getting an overview of a multimodal distribution in terminal</li><li>Sending slack notifications about suspicious samples</li></ul><p>Once I get the idea of the distribution shape, I can go deeper and check out the density and timeline plots.
In most cases, I don&rsquo;t do that because I already have the most important information from the summary.</p><p>At the first few tries, it may be hard to quickly interpret this notation.
However, when you get used to it,
you will be able to instantly get the idea of the distribution shape using this short plain text description.</p><p>If you have any suggestions for improvements, feedback is welcome!</p><br><br><div class=row><div class="justify-content-center share-block"><div class=share-title>Share:</div><div class=share-button><a href="https://www.reddit.com/submit?url=https%3a%2f%2faakinshin.net%2fposts%2fmodality-summary-notation%2f&title=Plain-text%20summary%20notation%20for%20multimodal%20distributions" target=_blank title="Share on Reddit"><i class="fab fa-reddit fa-2x"></i></a></div><div class=share-button><a href="https://twitter.com/intent/tweet?text=Plain-text%20summary%20notation%20for%20multimodal%20distributions&url=https%3a%2f%2faakinshin.net%2fposts%2fmodality-summary-notation%2f&via=andrey_akinshin&related=andrey_akinshin" rel=nofollow target=_blank title="Share on Twitter"><i class="fab fa-twitter fa-2x"></i></a></div><div class=share-button><a href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2faakinshin.net%2fposts%2fmodality-summary-notation%2f" target=_blank title="Share on HackerNews"><i class="fab fa-hacker-news fa-2x"></i></a></div><div class=share-button><a href="https://getpocket.com/save?url=https%3a%2f%2faakinshin.net%2fposts%2fmodality-summary-notation%2f&title=Plain-text%20summary%20notation%20for%20multimodal%20distributions" target=_blank title="Add to Pocket"><i class="fab fa-get-pocket fa-2x"></i></a></div></div></div></div><hr></div></div></main></div><footer class="blog-footer mt-auto"><div class=container><p>&copy; 2013&mdash;2022 Andrey Akinshin
|
<a href=https://github.com/AndreyAkinshin><i class="fab fa-github" title=GitHub></i></a>
<a href=https://twitter.com/andrey_akinshin><i class="fab fa-twitter" title=Twitter></i></a>
<a href=https://aakinshin.net/posts/index.xml><i class="fas fa-rss" title=RSS></i></a>
|
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></p></div></footer><script src=https://aakinshin.net/js/theme-after.min.c26550621ac13c2221d7f6f5e6fe862345d3919723c50d730893e3e4856ecf35.js></script>
<script src=/js/bootstrap.bundle.min.js></script>
<script src=/js/anchor.min.js></script>
<script src=https://aakinshin.net/js/custom.min.f6e5d13fe39f305056cc743ee4cb8d117c1aba26176e58c82c79a480d02fe4b7.js></script>
<script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></body></html>