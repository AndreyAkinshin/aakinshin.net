<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.123.8"><meta name=author content='Andrey Akinshin'><link href=/img/favicon.ico rel=icon type=image/x-icon><meta name=keywords content='Change Point Detection'><title>Hunter: Using Change Point Detection to Hunt for Performance Regressions | Andrey Akinshin</title>
<meta name=description content="The authors present an open-source framework github/hunter for automatic change point detection.
Notes:
Assumes normality + Student’s t-test Haven&amp;rsquo;t performed own experiments yet, but expect poor accuracy and alpha in multimodal cases Presented data s..."><meta name=twitter:site content="@andrey_akinshin"><meta name=twitter:creator content="@andrey_akinshin"><script>localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")</script><link href=https://aakinshin.net/css/main.min.d6826f88345af20c0769a313557ec1355465a3091b1f9869b936f2504c4dfe26.css rel=stylesheet type=text/css media=all><link rel=alternate type=application/rss+xml href=https://aakinshin.net/posts/index.xml title="RSS Feed"></head><body class="flex flex-col min-h-screen"><nav><div class="container flex flex-wrap items-center justify-between mx-auto max-w-6xl h-12 px-2 xs:px-6"><div class="flex items-center justify-start justify-self-start"><div class="flex nav-item h-12 w-12 items-center justify-center"><a class=text-white href=https://aakinshin.net/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#house-chimney"/></svg></a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/feed/>Feed</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/library/>Library</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/research/>Research</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/about/>About</a></div><div class="flex nav-item h-12 items-center"><a class=text-white href=https://aakinshin.net/search/><svg class="fai w-5 h-5 pr-0 mb-0.5"><use xlink:href="/img/fa/all.svg#magnifying-glass"/></svg></a></div></div><button id=theme-toggle type=button title="Alt+Click to match OS color theme" class="nav-item p-3 content-center justify-self-end"><svg id="theme-toggle-dark-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001.0 1010.586 10.586z"/></svg><svg id="theme-toggle-light-icon" class="hidden w-6 h-6" fill="currentcolor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 011 1v1A1 1 0 119 4V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707A1 1 0 1113.536 5.05l.707-.707a1 1 0 011.414.0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707A1 1 0 004.343 5.757l.707.707zm1.414 8.486-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" fill-rule="evenodd" clip-rule="evenodd"/></svg></button></div></nav><div class="main container mx-auto max-w-6xl px-6 flex-grow"><div class=main-post><h1 class=blog-post-title id=post-title><a href=https://aakinshin.net/library/>Library</a> /
Hunter: Using Change Point Detection to Hunt for Performance Regressions</h1><div class="flex w-full"><div class=flex-grow><table class=meta-table><tr><td>Authors</td><td><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/library/authors/matt-fleming/>Matt Fleming</a>
<a class=label-link href=https://aakinshin.net/library/authors/piotr-kolaczkowski/>Piotr Kolaczkowski</a>
<a class=label-link href=https://aakinshin.net/library/authors/ishita-kumar/>Ishita Kumar</a>
<a class=label-link href=https://aakinshin.net/library/authors/shaunak-das/>Shaunak Das</a>
<a class=label-link href=https://aakinshin.net/library/authors/sean-mccarthy/>Sean McCarthy</a>
<a class=label-link href=https://aakinshin.net/library/authors/pushkala-pattabhiraman/>Pushkala Pattabhiraman</a>
<a class=label-link href=https://aakinshin.net/library/authors/henrik-ingo/>Henrik Ingo</a></div></td></tr><tr><td>Year</td><td><span class=label>2023</span></td></tr><tr><td>DOI</td><td><a class=label-link href=https://dx.doi.org/10.1145/3578244.3583719>10.1145/3578244.3583719</a></td></tr><tr><td>Links</td><td><a class=label-link href=http://dx.doi.org/10.1145/3578244.3583719>Link</a></td></tr><tr><td>Tags</td><td><div class="flex flex-wrap gap-y-1"><a class=label-link href=https://aakinshin.net/tags/change-point-detection/>Change Point Detection</a></div></td></tr></table></div></div><hr><div class=main-content><p>The authors present an open-source framework <a href=https://aakinshin.net/library/web/github-hunter/><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#web"/></svg>github/hunter</a> for automatic change point detection.</p><p>Notes:</p><ul><li><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#rating-2"/></svg> Assumes normality + Student’s t-test<ul><li>Haven&rsquo;t performed own experiments yet, but expect poor accuracy and alpha in multimodal cases</li><li>Presented data samples in Figure 2 do not have any unpleasant deviations</li><li>In <a href=https://aakinshin.net/library/quotes/a4192cbd-ee25-4d65-a58c-b300885d098a/><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#quote"/></svg>Hunter is Affected by Strong Noise</a>, the authors admit issues on untuned hardware</li></ul></li><li>Comparison only with PELT and DYNP, no mentions of ED-PELT (see <a href=https://aakinshin.net/library/papers/haynes2016/><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#paper"/></svg>haynes2016</a>)</li></ul><h2 id=reference>Reference</h2><blockquote><p><i>Matt Fleming, Piotr Kolaczkowski, Ishita Kumar, Shaunak Das, Sean McCarthy, Pushkala Pattabhiraman, Henrik Ingo</i> “Hunter: Using Change Point Detection to Hunt for Performance Regressions” (2023) // Proceedings of the 2023 ACM/SPEC International Conference on Performance Engineering. Publisher: ACM. DOI: <a href=https://doi.org/10.1145/3578244.3583719>10.1145/3578244.3583719</a></p></blockquote><h2 id=abstract>Abstract</h2><blockquote><p>Change point detection has recently gained popularity as a method of detecting performance changes in software due to its ability to cope with noisy data. In this paper we present Hunter, an open source tool that automatically detects performance regressions and improvements in time-series data. Hunter uses a modified E-divisive means algorithm to identify statistically significant changes in normally-distributed performance metrics. We describe the changes we made to the E-divisive means algorithm along with their motivation. The main change we adopted was to replace the significance test using randomized permutations with a Student&rsquo;s t-test, as we discovered that the randomized approach did not produce deterministic results, at least not with a reasonable number of iterations. In addition we&rsquo;ve made tweaks that allow us to find change points the original algorithm would not, such as two nearby changes. For evaluation, we developed a method to generate real timeseries, but with artificially injected changes in latency. We used these data sets to compare Hunter against two other well known algorithms, PELT and DYNP. Finally, we conclude with lessons we&rsquo;ve learned supporting Hunter across teams with individual responsibility for the performance of their project.</p></blockquote><h2 id=bib>Bib</h2><div class=highlight><pre tabindex=0 class=chroma><code class=language-bib data-lang=bib><span class=line><span class=cl><span class=nc>@Inproceedings</span><span class=p>{</span><span class=nl>fleming2023</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>series</span> <span class=p>=</span> <span class=s>{ICPE ’23}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>title</span> <span class=p>=</span> <span class=s>{Hunter: Using Change Point Detection to Hunt for Performance Regressions}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>abstract</span> <span class=p>=</span> <span class=s>{Change point detection has recently gained popularity as a method of detecting performance changes in software due to its ability to cope with noisy data. In this paper we present Hunter, an open source tool that automatically detects performance regressions and improvements in time-series data. Hunter uses a modified E-divisive means algorithm to identify statistically significant changes in normally-distributed performance metrics. We describe the changes we made to the E-divisive means algorithm along with their motivation. The main change we adopted was to replace the significance test using randomized permutations with a Student&#39;s t-test, as we discovered that the randomized approach did not produce deterministic results, at least not with a reasonable number of iterations. In addition we&#39;ve made tweaks that allow us to find change points the original algorithm would not, such as two nearby changes. For evaluation, we developed a method to generate real timeseries, but with artificially injected changes in latency. We used these data sets to compare Hunter against two other well known algorithms, PELT and DYNP. Finally, we conclude with lessons we&#39;ve learned supporting Hunter across teams with individual responsibility for the performance of their project.}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>url</span> <span class=p>=</span> <span class=s>{http://dx.doi.org/10.1145/3578244.3583719}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>doi</span> <span class=p>=</span> <span class=s>{10.1145/3578244.3583719}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>booktitle</span> <span class=p>=</span> <span class=s>{Proceedings of the 2023 ACM/SPEC International Conference on Performance Engineering}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>publisher</span> <span class=p>=</span> <span class=s>{ACM}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>author</span> <span class=p>=</span> <span class=s>{Fleming, Matt and Kolaczkowski, Piotr and Kumar, Ishita and Das, Shaunak and McCarthy, Sean and Pattabhiraman, Pushkala and Ingo, Henrik}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>year</span> <span class=p>=</span> <span class=s>{2023}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>month</span> <span class=p>=</span> <span class=s>{apr}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>collection</span> <span class=p>=</span> <span class=s>{ICPE ’23}</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=na>arxiv</span> <span class=p>=</span> <span class=s>{2301.03034}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><hr><h3 id=quotes>Quotes (1)</h3><h4><a href=https://aakinshin.net/library/quotes/a4192cbd-ee25-4d65-a58c-b300885d098a/>Hunter is Affected by Strong Noise</a></h4><blockquote><p>One of the teams using Hunter was afflicted with frequent change point messages via the Slack bot. After investigating these change points they discovered that the performance of the application hadn’t changed, rather the change in benchmark results was caused by unstable hardware performance in a private data center. Changes of +- 10% for the median latency were typical.</p><p>While Hunter can detect statistically significant changes in time series data, it is still not impervious to data that contains wildly fluctuating points such as that produced by running benchmarks on untuned hardware.</p></blockquote><h3 id=references>References (3)</h3><ol><li><a href=https://aakinshin.net/library/quotes/ title="Library / quotes"><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#quote"/></svg>
</a><a href=https://aakinshin.net/library/quotes/a4192cbd-ee25-4d65-a58c-b300885d098a/>"Hunter is Affected by Strong Noise"
</a>(2023)
by
<a href=https://aakinshin.net/library/authors/matt-fleming/>Matt Fleming</a>
et al.
<span class=label title=Backlinks:1><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#backlink"/></svg>1</span></li><li><a href=https://aakinshin.net/web/ title="Library / web"><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#web"/></svg>
</a><a href=https://aakinshin.net/library/web/github-hunter/>github/hunter
</a><svg class="rating-icon"><title>Has notes</title><use xlink:href="/img/fa/all.svg#note"/></svg>
<span class=label title=Backlinks:2><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#backlink"/></svg>2</span></li><li><a href=https://aakinshin.net/library/papers/ title="Library / papers"><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#paper"/></svg>
</a><a href=https://aakinshin.net/library/papers/haynes2016/>A Computationally Efficient Nonparametric Approach for Changepoint Detection
</a>(2016)
by
<a href=https://aakinshin.net/library/authors/kaylea-haynes/>Kaylea Haynes</a>
et al.
<svg class="rating-icon"><title>Has notes</title><use xlink:href="/img/fa/all.svg#note"/></svg>
<span class=label title=Backlinks:2><svg class="rating-icon"><use xlink:href="/img/fa/all.svg#backlink"/></svg>2</span></li></ol></div><br><br></div></div><script>var themeToggleDarkIcon=document.getElementById("theme-toggle-dark-icon"),themeToggleBtn,themeToggleLightIcon=document.getElementById("theme-toggle-light-icon");const imagesDark=document.querySelectorAll(".img-dark"),imagesLight=document.querySelectorAll(".img-light");localStorage.getItem("color-theme")==="dark"||!("color-theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?(themeToggleLightIcon.classList.remove("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")})):(themeToggleDarkIcon.classList.remove("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}));function toggleTheme(e){e?(document.documentElement.classList.add("dark"),themeToggleLightIcon.classList.remove("hidden"),themeToggleDarkIcon.classList.add("hidden"),imagesDark.forEach(e=>{e.classList.remove("hidden")}),imagesLight.forEach(e=>{e.classList.add("hidden")})):(document.documentElement.classList.remove("dark"),themeToggleDarkIcon.classList.remove("hidden"),themeToggleLightIcon.classList.add("hidden"),imagesLight.forEach(e=>{e.classList.remove("hidden")}),imagesDark.forEach(e=>{e.classList.add("hidden")}))}themeToggleBtn=document.getElementById("theme-toggle"),themeToggleBtn.addEventListener("click",function(){themeToggleDarkIcon.classList.toggle("hidden"),themeToggleLightIcon.classList.toggle("hidden"),imagesLight.forEach(e=>{e.classList.toggle("hidden")}),imagesDark.forEach(e=>{e.classList.toggle("hidden")}),event.altKey?(localStorage.removeItem("color-theme"),toggleTheme(window.matchMedia("(prefers-color-scheme: dark)").matches)):localStorage.getItem("color-theme")?localStorage.getItem("color-theme")==="light"?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):document.documentElement.classList.contains("dark")?(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light")):(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark"))}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{if(localStorage.getItem("color-theme")===null){const t=e.matches?"dark":"light";toggleTheme(t==="dark")}})</script><footer class="z-20 p-4 md:p-6 mt-3 w-full border-t border-gray-200 shadow flex items-center justify-center dark:border-gray-600 bg-white dark:bg-zinc-800"><span class="dark:text-gray-400 text-center">© 2013—2024 <span class=whitespace-nowrap>Andrey Akinshin</span></span><ul class="flex flex-wrap items-center px-4 mb-1"><li><a href=https://github.com/AndreyAkinshin><svg class="fai fai-link w-5 h-5"><title>GitHub</title><use xlink:href="/img/fa/all.svg#github"/></svg></a></li><li><a href=https://twitter.com/andrey_akinshin><svg class="fai fai-link w-5 h-5"><title>Twitter</title><use xlink:href="/img/fa/all.svg#twitter"/></svg></a></li><li><a href=https://aakinshin.net/posts/index.xml><svg class="fai fai-link w-5 h-5"><title>RSS</title><use xlink:href="/img/fa/all.svg#rss"/></svg></a></li></ul><div class=main-content><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a></div></footer><script>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],ignoreHtmlClass:"tex2jax_ignore",processHtmlClass:"tex2jax_process"}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+=" has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js></script></body></html>